[{"filePath":"C:\\Users\\user\\UniForgeFrontend\\eslint.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\App.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\AppRoutes.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\components\\common\\Footer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\components\\common\\Loading.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\components\\landing\\CallToAction.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\components\\landing\\Features.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\components\\landing\\Hero.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\components\\landing\\Integration.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\components\\library\\AssetCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\components\\library\\AssetGrid.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\components\\library\\LibraryLayout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\components\\library\\LibrarySidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\contexts\\AuthContext.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":2,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":86,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":86,"endColumn":24,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\contexts\\EditorCoreContext.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":2,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":10,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":10,"endColumn":30},{"ruleId":"react-refresh/only-export-components","severity":2,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":16,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":16,"endColumn":38}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { createContext, useContext, useEffect, useState } from \"react\";\r\nimport { EditorState, editorCore } from \"../editor/EditorCore\";\r\n\r\nconst EditorCoreContext = createContext<EditorState>(editorCore);\r\n\r\nexport function EditorCoreProvider({ children }: { children: React.ReactNode }) {\r\n    return <EditorCoreContext.Provider value={editorCore}>{children}</EditorCoreContext.Provider>;\r\n}\r\n\r\nexport function useEditorCore(): EditorState {\r\n    const ctx = useContext(EditorCoreContext);\r\n    return ctx;\r\n}\r\n\r\n// ?몃━???? EditorState瑜?援щ룆?섍퀬 ?ㅻ깄?룹쓣 諛섑솚\r\nexport function useEditorCoreSnapshot() {\r\n    const core = useEditorCore();\r\n    const [, setVersion] = useState(0);\r\n    useEffect(() => {\r\n        const unsub = core.subscribe(() => setVersion((v) => v + 1));\r\n        return () => {\r\n            unsub();\r\n        };\r\n    }, [core]);\r\n\r\n    return {\r\n        core,\r\n        assets: Array.from(core.getAssets()),\r\n        entities: Array.from(core.getEntities().values()),\r\n        tiles: Array.from(core.getTiles().values()),\r\n        selectedAsset: core.getSelectedAsset(),\r\n        draggedAsset: core.getDraggedAsset(),\r\n        selectedEntity: core.getSelectedEntity(),\r\n        editorMode: core.getEditorMode(),\r\n\r\n    };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\AssetPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\EditorCanvas.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'assets', 'core', 'entities', and 'tiles'. Either include them or remove the dependency array.","line":282,"column":8,"nodeType":"ArrayExpression","endLine":282,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [assets, core, entities, tiles]","fix":{"range":[10499,10501],"text":"[assets, core, entities, tiles]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"癤퓁mport { useEffect, useRef, useState } from \"react\";\r\nimport { useEditorCoreSnapshot, useEditorCore } from \"../contexts/EditorCoreContext\";\r\nimport { GameCore } from \"./core/GameCore\";\r\nimport { PhaserRenderer } from \"./renderer/PhaserRenderer\";\r\nimport type { Asset } from \"./types/Asset\";\r\nimport type { EditorEntity } from \"./types/Entity\";\r\nimport type { TilePlacement } from \"./EditorCore\";\r\n\r\nconst TILE_SIZE = 32;\r\nconst TILESET_COLS = 16;\r\n\r\ntype Props = {\r\n    assets: Asset[];\r\n    selected_asset: Asset | null;\r\n    addEntity: (entity: EditorEntity) => void;\r\n    draggedAsset: Asset | null;\r\n    onSelectEntity?: (entity: EditorEntity) => void;\r\n};\r\n\r\nasync function buildTilesetCanvas(assets: Asset[]): Promise<HTMLCanvasElement | null> {\r\n    const tileAssets = assets.filter((asset) => asset.tag === \"Tile\");\r\n    if (tileAssets.length === 0) return null;\r\n\r\n    const tilesetcanvas = document.createElement(\"canvas\");\r\n    tilesetcanvas.width = TILE_SIZE * TILESET_COLS;\r\n    tilesetcanvas.height = Math.ceil(tileAssets.length / TILESET_COLS) * TILE_SIZE;\r\n\r\n    const ctx = tilesetcanvas.getContext(\"2d\");\r\n    if (!ctx) throw new Error(\"no 2d context\");\r\n\r\n    let idx = 0;\r\n    for (const asset of tileAssets) {\r\n        asset.idx = idx;\r\n\r\n        const img = new Image();\r\n        img.src = asset.url;\r\n        await img.decode();\r\n\r\n        const x = (idx % TILESET_COLS) * TILE_SIZE;\r\n        const y = Math.floor(idx / TILESET_COLS) * TILE_SIZE;\r\n        ctx.drawImage(img, x, y, TILE_SIZE, TILE_SIZE);\r\n\r\n        idx++;\r\n    }\r\n\r\n    return tilesetcanvas;\r\n}\r\n\r\nfunction indexTiles(tiles: TilePlacement[]) {\r\n    const map = new Map<string, TilePlacement>();\r\n    for (const t of tiles) {\r\n        map.set(`${t.x},${t.y}`, t);\r\n    }\r\n    return map;\r\n}\r\n\r\nexport function EditorCanvas({ assets, selected_asset, addEntity, draggedAsset }: Props) {\r\n    const ref = useRef<HTMLDivElement>(null);\r\n    const core = useEditorCore();\r\n    const { tiles, entities } = useEditorCoreSnapshot();\r\n    const rendererRef = useRef<PhaserRenderer | null>(null);\r\n    const gameCoreRef = useRef<GameCore | null>(null);\r\n    const prevTilesRef = useRef<Map<string, TilePlacement>>(new Map());\r\n    const lastPointerRef = useRef<{ x: number; y: number } | null>(null);\r\n    const isPointerDownRef = useRef(false);\r\n    const cameraDragRef = useRef(false);\r\n    const dragEntityIdRef = useRef<string | null>(null);\r\n    const ghostIdRef = useRef<string | null>(null);\r\n    const rendererReadyRef = useRef(false);\r\n    const selectedAssetRef = useRef<Asset | null>(selected_asset);\r\n    const draggedAssetRef = useRef<Asset | null>(draggedAsset);\r\n    const tilingTypeRef = useRef<\"\" | \"drawing\" | \"erase\">(\"\");\r\n    const addEntityRef = useRef(addEntity);\r\n\r\n    const [tilingType, setTilingType] = useState<\"\" | \"drawing\" | \"erase\">(\"\");\r\n\r\n    useEffect(() => {\r\n        selectedAssetRef.current = selected_asset;\r\n    }, [selected_asset]);\r\n\r\n    useEffect(() => {\r\n        draggedAssetRef.current = draggedAsset;\r\n    }, [draggedAsset]);\r\n\r\n    useEffect(() => {\r\n        tilingTypeRef.current = tilingType;\r\n    }, [tilingType]);\r\n\r\n    useEffect(() => {\r\n        addEntityRef.current = addEntity;\r\n    }, [addEntity]);\r\n\r\n    useEffect(() => {\r\n        if (!ref.current) return;\r\n        if (rendererRef.current) return;\r\n\r\n        const renderer = new PhaserRenderer();\r\n        rendererRef.current = renderer;\r\n        const gameCore = new GameCore(renderer);\r\n        gameCoreRef.current = gameCore;\r\n\r\n        let active = true;\r\n\r\n        (async () => {\r\n            await renderer.init(ref.current as HTMLElement);\r\n            if (!active) return;\r\n\r\n            for (const asset of assets) {\r\n                if (asset.tag === \"Tile\") continue;\r\n                await renderer.loadTexture(asset.name, asset.url);\r\n            }\r\n\r\n            const tilesetCanvas = await buildTilesetCanvas(assets);\r\n            if (tilesetCanvas) {\r\n                renderer.addCanvasTexture(\"tiles\", tilesetCanvas);\r\n                renderer.initTilemap(\"tiles\");\r\n            }\r\n\r\n            for (const t of tiles) {\r\n                renderer.setTile(t.x, t.y, t.tile);\r\n            }\r\n\r\n            for (const e of entities) {\r\n                gameCore.createEntity(e.id, e.type, e.x, e.y, {\r\n                    name: e.name,\r\n                    texture: e.name,\r\n                    variables: e.variables,\r\n                    components: [],\r\n                });\r\n            }\r\n\r\n            rendererReadyRef.current = true;\r\n        })();\r\n\r\n        renderer.onEntityClick = (id) => {\r\n            const ent = core.getEntities().get(id);\r\n            if (ent) {\r\n                core.setSelectedEntity(ent);\r\n            }\r\n            dragEntityIdRef.current = id;\r\n        };\r\n\r\n        renderer.onPointerDown = (worldX, worldY) => {\r\n            isPointerDownRef.current = true;\r\n            lastPointerRef.current = { x: worldX, y: worldY };\r\n\r\n            const selectedAsset = selectedAssetRef.current;\r\n            const activeTilingType = tilingTypeRef.current;\r\n            const activeDragged = draggedAssetRef.current;\r\n            if (selectedAsset?.tag === \"Tile\" && selectedAsset.idx >= 0 && activeTilingType) {\r\n                const tx = Math.floor(worldX / TILE_SIZE);\r\n                const ty = Math.floor(worldY / TILE_SIZE);\r\n                if (activeTilingType === \"drawing\") {\r\n                    renderer.setTile(tx, ty, selectedAsset.idx);\r\n                    core.setTile(tx, ty, selectedAsset.idx);\r\n                } else if (activeTilingType === \"erase\") {\r\n                    renderer.removeTile(tx, ty);\r\n                    core.removeTile(tx, ty);\r\n                }\r\n                return;\r\n            }\r\n\r\n            if (activeDragged && activeDragged.tag !== \"Tile\") {\r\n                return;\r\n            }\r\n\r\n            if (dragEntityIdRef.current) {\r\n                return;\r\n            }\r\n\r\n            cameraDragRef.current = true;\r\n        };\r\n\r\n        renderer.onPointerMove = (worldX, worldY) => {\r\n            const prev = lastPointerRef.current;\r\n            lastPointerRef.current = { x: worldX, y: worldY };\r\n\r\n            const selectedAsset = selectedAssetRef.current;\r\n            const activeTilingType = tilingTypeRef.current;\r\n            const activeDragged = draggedAssetRef.current;\r\n            if (activeDragged && activeDragged.tag !== \"Tile\") {\r\n                if (!ghostIdRef.current) {\r\n                    const ghostId = `__ghost__${crypto.randomUUID()}`;\r\n                    ghostIdRef.current = ghostId;\r\n                    renderer.spawn(ghostId, activeDragged.tag, worldX, worldY, 9999, {\r\n                        texture: activeDragged.name,\r\n                        width: 40,\r\n                        height: 40,\r\n                        color: 0xffffff,\r\n                    });\r\n                } else {\r\n                    renderer.update(ghostIdRef.current, worldX, worldY, 9999);\r\n                }\r\n                return;\r\n            }\r\n\r\n            if (selectedAsset?.tag === \"Tile\" && selectedAsset.idx >= 0) {\r\n                const tx = Math.floor(worldX / TILE_SIZE);\r\n                const ty = Math.floor(worldY / TILE_SIZE);\r\n                if (!activeTilingType) {\r\n                    renderer.setPreviewTile(tx, ty, selectedAsset.idx);\r\n                } else if (isPointerDownRef.current) {\r\n                    if (activeTilingType === \"drawing\") {\r\n                        renderer.setTile(tx, ty, selectedAsset.idx);\r\n                        core.setTile(tx, ty, selectedAsset.idx);\r\n                    } else if (activeTilingType === \"erase\") {\r\n                        renderer.removeTile(tx, ty);\r\n                        core.removeTile(tx, ty);\r\n                    }\r\n                }\r\n                return;\r\n            }\r\n\r\n            if (dragEntityIdRef.current && isPointerDownRef.current) {\r\n                const id = dragEntityIdRef.current;\r\n                const ent = core.getEntities().get(id);\r\n                if (ent) {\r\n                    const updated: EditorEntity = { ...ent, x: worldX, y: worldY };\r\n                    core.addEntity(updated as EditorEntity & { id: string });\r\n                }\r\n                gameCore.moveEntity(id, worldX, worldY);\r\n                return;\r\n            }\r\n\r\n            if (cameraDragRef.current && prev) {\r\n                const dx = (worldX - prev.x) / 2;\r\n                const dy = (worldY - prev.y) / 2;\r\n                const cam = renderer.getCameraPosition();\r\n                renderer.setCameraPosition(cam.x - dx, cam.y - dy);\r\n            }\r\n        };\r\n\r\n        renderer.onPointerUp = (worldX, worldY) => {\r\n            const activeDragged = draggedAssetRef.current;\r\n            if (activeDragged && activeDragged.tag !== \"Tile\") {\r\n                if (ghostIdRef.current) {\r\n                    renderer.remove(ghostIdRef.current);\r\n                    ghostIdRef.current = null;\r\n                }\r\n\r\n                const id = crypto.randomUUID();\r\n                const created: EditorEntity = {\r\n                    id,\r\n                    type: activeDragged.tag,\r\n                    name: activeDragged.name,\r\n                    x: worldX,\r\n                    y: worldY,\r\n                    z: 0,\r\n                    components: [],\r\n                    modules: [],\r\n                    variables: [],\r\n                    events: [],\r\n                };\r\n                addEntityRef.current(created);\r\n                gameCore.createEntity(created.id, created.type, created.x, created.y, {\r\n                    name: created.name,\r\n                    texture: created.name,\r\n                    variables: created.variables,\r\n                    components: [],\r\n                });\r\n            }\r\n\r\n            renderer.clearPreviewTile();\r\n            isPointerDownRef.current = false;\r\n            cameraDragRef.current = false;\r\n            dragEntityIdRef.current = null;\r\n        };\r\n\r\n        renderer.onScroll = (deltaY) => {\r\n            const dy = Math.exp(deltaY * -(1 / 1000));\r\n            const zoom = Math.min(Math.max(renderer.getCameraZoom() * dy, 0.1), 10);\r\n            renderer.setCameraZoom(zoom);\r\n        };\r\n\r\n        return () => {\r\n            active = false;\r\n            gameCoreRef.current?.destroy();\r\n            renderer.destroy();\r\n            rendererRef.current = null;\r\n            gameCoreRef.current = null;\r\n        };\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const renderer = rendererRef.current;\r\n        if (!renderer || !rendererReadyRef.current) return;\r\n\r\n        const nextTiles = indexTiles(tiles);\r\n        const prevTiles = prevTilesRef.current;\r\n\r\n        for (const [key, prev] of prevTiles.entries()) {\r\n            if (!nextTiles.has(key)) {\r\n                renderer.removeTile(prev.x, prev.y);\r\n            }\r\n        }\r\n\r\n        for (const t of nextTiles.values()) {\r\n            renderer.setTile(t.x, t.y, t.tile);\r\n        }\r\n\r\n        prevTilesRef.current = nextTiles;\r\n    }, [tiles]);\r\n\r\n    useEffect(() => {\r\n        const gameCore = gameCoreRef.current;\r\n        if (!gameCore || !rendererReadyRef.current) return;\r\n\r\n        const nextIds = new Set(entities.map((e) => e.id));\r\n        const current = gameCore.getAllEntities();\r\n\r\n        for (const id of current.keys()) {\r\n            if (!nextIds.has(id)) {\r\n                gameCore.removeEntity(id);\r\n            }\r\n        }\r\n\r\n        for (const ent of entities) {\r\n            if (!gameCore.hasEntity(ent.id)) {\r\n                gameCore.createEntity(ent.id, ent.type, ent.x, ent.y, {\r\n                    name: ent.name,\r\n                    texture: ent.name,\r\n                    variables: ent.variables,\r\n                    components: [],\r\n                });\r\n            } else {\r\n                gameCore.moveEntity(ent.id, ent.x, ent.y);\r\n            }\r\n        }\r\n    }, [entities]);\r\n\r\n    // Entry Style Colors\r\n    const colors = {\r\n        bgPrimary: '#0d1117',\r\n        bgSecondary: '#161b22',\r\n        bgTertiary: '#21262d',\r\n        borderColor: '#30363d',\r\n        borderAccent: '#1f6feb',\r\n        accentLight: '#58a6ff',\r\n        textPrimary: '#f0f6fc',\r\n        textSecondary: '#8b949e',\r\n    };\r\n\r\n    return (\r\n        <div style={{\r\n            flex: 1,\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            padding: '12px',\r\n            overflow: 'hidden',\r\n        }}>\r\n            {/* Toolbar */}\r\n            <div style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: '8px',\r\n                marginBottom: '12px',\r\n                padding: '8px 12px',\r\n                background: colors.bgSecondary,\r\n                border: `2px solid ${colors.borderColor}`,\r\n                borderRadius: '6px',\r\n            }}>\r\n                <span style={{\r\n                    fontSize: '12px',\r\n                    color: colors.textSecondary,\r\n                    padding: '4px 8px',\r\n                }}>\r\n                    Camera\r\n                </span>\r\n\r\n                {selected_asset?.tag === \"Tile\" && (\r\n                    <div style={{\r\n                        display: 'flex',\r\n                        gap: '4px',\r\n                        marginLeft: '8px',\r\n                        paddingLeft: '8px',\r\n                        borderLeft: `1px solid ${colors.borderColor}`,\r\n                    }}>\r\n                        <button\r\n                            onClick={() => setTilingType((prev) => (prev === \"drawing\" ? \"\" : \"drawing\"))}\r\n                            style={{\r\n                                padding: '6px 12px',\r\n                                fontSize: '12px',\r\n                                background: tilingType === \"drawing\" ? colors.borderAccent : colors.bgTertiary,\r\n                                border: `1px solid ${colors.borderColor}`,\r\n                                borderRadius: '4px',\r\n                                color: colors.textPrimary,\r\n                                cursor: 'pointer',\r\n                            }}\r\n                        >\r\n                            洹몃━湲?r\n                        </button>\r\n                        <button\r\n                            onClick={() => setTilingType((prev) => (prev === \"erase\" ? \"\" : \"erase\"))}\r\n                            style={{\r\n                                padding: '6px 12px',\r\n                                fontSize: '12px',\r\n                                background: tilingType === \"erase\" ? '#da3633' : colors.bgTertiary,\r\n                                border: `1px solid ${colors.borderColor}`,\r\n                                borderRadius: '4px',\r\n                                color: colors.textPrimary,\r\n                                cursor: 'pointer',\r\n                            }}\r\n                        >\r\n                            吏?곌린\r\n                        </button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Phaser Canvas Container */}\r\n            <div\r\n                ref={ref}\r\n                style={{\r\n                    flex: 1,\r\n                    background: colors.bgPrimary,\r\n                    border: `2px solid ${colors.borderColor}`,\r\n                    borderRadius: '6px',\r\n                    overflow: 'hidden',\r\n                }}\r\n                onMouseLeave={() => {\r\n                    rendererRef.current?.clearPreviewTile();\r\n                }}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\EditorCore.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\EditorLayout.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":43,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1531,1534],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1531,1534],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":50,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":50,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1838,1841],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1838,1841],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\user\\UniForgeFrontend\\src\\editor\\EditorLayout.tsx:68:13\n  66 |     useEffect(() => {\n  67 |         if (selectedEntity !== null) {\n> 68 |             setLocalSelectedEntity(selectedEntity);\n     |             ^^^^^^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  69 |         }\n  70 |     }, [selectedEntity]);\n  71 |","line":68,"column":13,"nodeType":null,"endLine":68,"endColumn":35},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":206,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":206,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8606,8609],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8606,8609],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":207,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":207,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8673,8676],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8673,8676],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":209,"column":106,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":209,"endColumn":109,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8847,8850],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8847,8850],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":231,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":231,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9814,9817],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9814,9817],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":232,"column":66,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":232,"endColumn":69,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9886,9889],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9886,9889],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":267,"column":65,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":267,"endColumn":68,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11403,11406],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11403,11406],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":268,"column":73,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":268,"endColumn":76,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11482,11485],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11482,11485],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":10,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"癤퓁mport { useState, useEffect } from \"react\";\r\nimport { HierarchyPanel } from \"./HierarchyPanel\";\r\nimport { InspectorPanel } from \"./inspector/InspectorPanel\";\r\nimport { AssetPanel } from \"./AssetPanel\";\r\nimport type { EditorEntity } from \"./types/Entity\";\r\nimport { EditorCanvas } from \"./EditorCanvas\";\r\nimport { RunTimeCanvas } from \"./RunTimeCanvas\";\r\nimport \"./styles.css\";\r\nimport { EditorCoreProvider, useEditorCoreSnapshot } from \"../contexts/EditorCoreContext\";\r\nimport type { EditorContext } from \"./EditorCore\";\r\nimport { CameraMode, DragDropMode } from \"./editorMode/editorModes\";\r\n\r\n// Entry Style Color Palette\r\nconst colors = {\r\n    bgPrimary: '#0d1117',      // 硫붿씤 諛곌꼍 (源딆? 寃??\r\n    bgSecondary: '#161b22',    // ?⑤꼸 諛곌꼍\r\n    bgTertiary: '#21262d',     // ?몃쾭/?낅젰 諛곌꼍\r\n    borderColor: '#30363d',    // 湲곕낯 ?뚮몢由?r\n    borderAccent: '#1f6feb',   // ?뚮????≪꽱???뚮몢由?r\n    accentBlue: '#1f6feb',     // 二??뚮???r\n    accentLight: '#58a6ff',    // 諛앹? ?뚮???r\n    textPrimary: '#f0f6fc',    // 湲곕낯 ?띿뒪??r\n    textSecondary: '#8b949e',  // 遺媛 ?띿뒪??r\n};\r\n\r\nexport default function EditorLayout() {\r\n    return (\r\n        <EditorCoreProvider>\r\n            <EditorLayoutInner />\r\n        </EditorCoreProvider>\r\n    );\r\n}\r\n\r\ntype Mode = \"dev\" | \"run\";\r\n\r\nfunction EditorLayoutInner() {\r\n    const { core, assets, entities, selectedAsset, draggedAsset, selectedEntity } = useEditorCoreSnapshot();\r\n\r\n\r\n    const [mode, setMode] = useState<Mode>(\"dev\");\r\n    const [runSession, setRunSession] = useState(0);\r\n\r\n    const changeSelectedAssetHandler = (a: any) => {\r\n        core.setSelectedAsset(a);\r\n        const cm = new CameraMode();\r\n        const ctx: EditorContext = { currentMode: cm, currentSelectedAsset: a ?? undefined, mouse: \"mousemove\" };\r\n        core.sendContextToEditorModeStateMachine(ctx);\r\n    };\r\n\r\n    const changeDraggedAssetHandler = (a: any) => {\r\n        core.setDraggedAsset(a);\r\n        if (a == null) {\r\n            const cm = new CameraMode();\r\n            core.sendContextToEditorModeStateMachine({ currentMode: cm, mouse: \"mouseup\" });\r\n            return;\r\n        }\r\n        const dm = new DragDropMode();\r\n        dm.asset = a;\r\n        core.sendContextToEditorModeStateMachine({ currentMode: dm, currentDraggingAsset: a, mouse: \"mousedown\" });\r\n    };\r\n\r\n    const [localSelectedEntity, setLocalSelectedEntity] = useState<EditorEntity | null>(selectedEntity);\r\n\r\n    // keep local selection in sync with core selection\r\n    // ?쒕옒洹?以묒뿉???댁쟾 ?좏깮???좎? (selectedEntity媛 null???꾨땺 ?뚮쭔 ?낅뜲?댄듃)\r\n    useEffect(() => {\r\n        if (selectedEntity !== null) {\r\n            setLocalSelectedEntity(selectedEntity);\r\n        }\r\n    }, [selectedEntity]);\r\n\r\n    return (\r\n        <div style={{\r\n            width: '100vw',\r\n            height: '100vh',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            background: colors.bgPrimary,\r\n            color: colors.textPrimary,\r\n            fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif',\r\n        }}>\r\n            {/* ===== HEADER BAR ===== */}\r\n            <div style={{\r\n                height: '48px',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                padding: '0 16px',\r\n                background: colors.bgSecondary,\r\n                borderBottom: `1px solid ${colors.borderColor}`,\r\n            }}>\r\n                {/* Logo with Cube Icon */}\r\n                <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n                    {/* Blue Cube SVG Icon */}\r\n                    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n                        <path d=\"M12 2L3 7V17L12 22L21 17V7L12 2Z\" fill={colors.borderAccent} />\r\n                        <path d=\"M12 2L3 7L12 12L21 7L12 2Z\" fill={colors.accentLight} />\r\n                        <path d=\"M12 12V22L3 17V7L12 12Z\" fill={colors.borderAccent} opacity=\"0.8\" />\r\n                        <path d=\"M12 12V22L21 17V7L12 12Z\" fill={colors.borderAccent} opacity=\"0.6\" />\r\n                    </svg>\r\n                    <span style={{\r\n                        fontSize: '15px',\r\n                        fontWeight: 600,\r\n                        color: colors.textPrimary,\r\n                        letterSpacing: '0.3px',\r\n                    }}>\r\n                        Uniforge\r\n                    </span>\r\n                </div>\r\n                <div style={{ marginLeft: 'auto' }}>\r\n                    <button\r\n                        type=\"button\"\r\n                        style={{\r\n                            padding: '6px 12px',\r\n                            fontSize: '12px',\r\n                            fontWeight: 600,\r\n                            background: colors.borderAccent,\r\n                            border: `1px solid ${colors.borderColor}`,\r\n                            borderRadius: '6px',\r\n                            color: colors.textPrimary,\r\n                            cursor: 'pointer',\r\n                        }}\r\n                        onClick={() => {\r\n                            setMode((prev) => {\r\n                                const next = prev === \"dev\" ? \"run\" : \"dev\";\r\n                                if (next === \"run\") {\r\n                                    setRunSession((v) => v + 1);\r\n                                }\r\n                                return next;\r\n                            });\r\n                        }}\r\n                    >\r\n                        {mode === \"dev\" ? \"?ㅽ뻾\" : \"?몄쭛\"}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* ===== TOP MENU BAR ===== */}\r\n            <div style={{\r\n                height: '36px',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: '4px',\r\n                padding: '0 12px',\r\n                background: colors.bgSecondary,\r\n                borderBottom: `1px solid ${colors.borderColor}`,\r\n            }}>\r\n                {['File', 'Edit', 'Assets', 'View'].map((menu) => (\r\n                    <span\r\n                        key={menu}\r\n                        style={{\r\n                            padding: '6px 12px',\r\n                            fontSize: '13px',\r\n                            color: colors.textSecondary,\r\n                            cursor: 'pointer',\r\n                            borderRadius: '4px',\r\n                            transition: 'all 0.15s',\r\n                        }}\r\n                        onMouseEnter={(e) => {\r\n                            e.currentTarget.style.background = colors.bgTertiary;\r\n                            e.currentTarget.style.color = colors.textPrimary;\r\n                        }}\r\n                        onMouseLeave={(e) => {\r\n                            e.currentTarget.style.background = 'transparent';\r\n                            e.currentTarget.style.color = colors.textSecondary;\r\n                        }}\r\n                    >\r\n                        {menu}\r\n                    </span>\r\n                ))}\r\n            </div>\r\n\r\n            {/* ===== MAIN EDITOR AREA ===== */}\r\n            <div style={{\r\n                display: 'flex',\r\n                flex: 1,\r\n                overflow: 'hidden',\r\n            }}>\r\n                {/* LEFT PANEL - Hierarchy */}\r\n                <div style={{\r\n                    width: '200px',\r\n                    background: colors.bgSecondary,\r\n                    borderRight: `2px solid ${colors.borderColor}`,\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                }}>\r\n                    <div style={{\r\n                        height: '32px',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        padding: '0 12px',\r\n                        background: colors.bgTertiary,\r\n                        borderBottom: `1px solid ${colors.borderColor}`,\r\n                        fontSize: '11px',\r\n                        fontWeight: 600,\r\n                        color: colors.accentLight,\r\n                        textTransform: 'uppercase',\r\n                        letterSpacing: '0.5px',\r\n                    }}>\r\n                        Hierarchy\r\n                    </div>\r\n                    <div style={{ flex: 1, padding: '8px', overflowY: 'auto' }}>\r\n                        <HierarchyPanel\r\n                            entities={entities}\r\n                            selectedId={selectedEntity?.id ?? null}\r\n                            onSelect={(e) => {\r\n                                core.setSelectedEntity(e as any);\r\n                                setLocalSelectedEntity(e as any);\r\n                                const cm = new CameraMode();\r\n                                const ctx: EditorContext = { currentMode: cm, currentSelecedEntity: e as any, mouse: \"mousedown\" };\r\n                                core.sendContextToEditorModeStateMachine(ctx);\r\n                            }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                {/* CENTER - Phaser Canvas */}\r\n                <div style={{\r\n                    flex: 1,\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    background: colors.bgPrimary,\r\n                    overflow: 'hidden',\r\n                }}>\r\n                    {mode === \"dev\" ? (\r\n                        <EditorCanvas\r\n                            assets={assets}\r\n                            selected_asset={selectedAsset}\r\n                            draggedAsset={draggedAsset}\r\n                            addEntity={(entity) => {\r\n                                console.log(\"? [EditorLayout] new entity:\", entity);\r\n                                core.addEntity(entity as any);\r\n                                core.setSelectedEntity(entity as any);\r\n                            }}\r\n                        />\r\n                    ) : (\r\n                        <RunTimeCanvas key={`run-${runSession}`} />\r\n                    )}\r\n                </div>\r\n\r\n                {/* RIGHT PANEL - Inspector */}\r\n                <div style={{\r\n                    width: '280px',\r\n                    background: colors.bgSecondary,\r\n                    borderLeft: `2px solid ${colors.borderColor}`,\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                }}>\r\n                    <div style={{\r\n                        height: '32px',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        padding: '0 12px',\r\n                        background: colors.bgTertiary,\r\n                        borderBottom: `1px solid ${colors.borderColor}`,\r\n                        fontSize: '11px',\r\n                        fontWeight: 600,\r\n                        color: colors.accentLight,\r\n                        textTransform: 'uppercase',\r\n                        letterSpacing: '0.5px',\r\n                    }}>\r\n                        Inspector\r\n                    </div>\r\n                    <div style={{ flex: 1, overflowY: 'auto' }}>\r\n                        <InspectorPanel\r\n                            entity={localSelectedEntity}\r\n                            onUpdateEntity={(updatedEntity) => {\r\n                                core.addEntity(updatedEntity as any);\r\n                                core.setSelectedEntity(updatedEntity as any);\r\n                                setLocalSelectedEntity(updatedEntity);\r\n                            }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* ===== BOTTOM - Asset Panel ===== */}\r\n            <div style={{\r\n                borderTop: `2px solid ${colors.borderAccent}`,\r\n            }}>\r\n                <AssetPanel\r\n                    assets={assets}\r\n                    changeSelectedAsset={(a) => changeSelectedAssetHandler(a)}\r\n                    changeDraggedAsset={(a) => changeDraggedAssetHandler(a)}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\EditorScene.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":15,"column":11,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":14,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[689,692],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[689,692],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":150,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":150,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4927,4930],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4927,4930],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":522,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":522,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[18459,18462],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[18459,18462],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"癤퓁mport Phaser from \"phaser\";\r\nimport { EditorMode, CameraMode, EntityEditMode, DragDropMode, TilingMode } from \"./editorMode/editorModes\";\r\nimport type { EditorEntity } from \"./types/Entity\";\r\nimport type { EditorState, EditorContext } from \"./EditorCore\";\r\nimport type { EditorComponent, AutoRotateComponent, PulseComponent } from \"./types/Component\";\r\nimport { editorCore } from \"./EditorCore\";\r\n// events/index.ts瑜?import?섎㈃ DefaultActions? DefaultConditions媛 ?먮룞 ?깅줉??r\nimport { EventBus, RuleEngine } from \"./core/events\";\r\nimport { KeyboardAdapter } from \"./core/events/adapters/KeyboardAdapter\";\r\n\r\nconst tileSize = 32;\r\n\r\ntype RuntimeComponent = {\r\n  comp: EditorComponent;\r\n  target: any;\r\n  initialScale?: { x: number, y: number }; // for Pulse\r\n};\r\n\r\nexport class EditorScene extends Phaser.Scene {\r\n\r\n  public ready = false;\r\n  private editorMode: EditorMode = new CameraMode();\r\n  // optional reference to EditorState (injected by PhaserCanvas)\r\n  public editorCore?: EditorState;\r\n\r\n  private map!: Phaser.Tilemaps.Tilemap;\r\n  private tileset!: Phaser.Tilemaps.Tileset;\r\n  // private transformGizmo!: TransformGizmo;\r\n  private _keyboardAdapter!: KeyboardAdapter;\r\n  private gridGfx!: Phaser.GameObjects.Graphics;\r\n\r\n  public baselayer!: Phaser.Tilemaps.TilemapLayer;\r\n  public previewlayer!: Phaser.Tilemaps.TilemapLayer;\r\n  public tileOffsetX = 0;\r\n  public tileOffsetY = 0;\r\n\r\n  public entityGroup!: Phaser.GameObjects.Group;\r\n  public assetGroup!: Phaser.GameObjects.Group;\r\n\r\n  // Optimization: Cached list of active components to avoid iterating all entities\r\n  private runtimeComponents: RuntimeComponent[] = [];\r\n\r\n  onReady!: (scene: EditorScene, callback: () => void) => Promise<void>;\r\n  onSelectEntity?: (entity: EditorEntity) => void;\r\n  constructor() {\r\n    super(\"EditorScene\");\r\n  }\r\n\r\n  // -----------------------\r\n  // 筌뤴뫀諭??袁れ넎\r\n  // -----------------------\r\n  private ensureTilingLayers(mode: TilingMode) {\r\n    if (!mode.base && this.baselayer) {\r\n      mode.base = this.baselayer;\r\n    }\r\n    if (!mode.preview && this.previewlayer) {\r\n      mode.preview = this.previewlayer;\r\n    }\r\n  }\r\n\r\n  setEditorMode(mode: EditorMode) {\r\n    if (mode instanceof TilingMode) {\r\n      this.ensureTilingLayers(mode);\r\n    }\r\n    if (this.editorMode.constructor === mode.constructor) {\r\n      if (this.editorMode instanceof DragDropMode && mode instanceof DragDropMode) {\r\n        this.editorMode.asset = mode.asset;\r\n      }\r\n      if (this.editorMode instanceof TilingMode && mode instanceof TilingMode) {\r\n        this.editorMode.tile = mode.tile;\r\n        if (mode.base && mode.preview) {\r\n          this.editorMode.base = mode.base;\r\n          this.editorMode.preview = mode.preview;\r\n        } else {\r\n          this.ensureTilingLayers(this.editorMode);\r\n        }\r\n        this.editorMode.curTilingType = mode.curTilingType;\r\n      }\r\n      return;\r\n    }\r\n    this.editorMode.exit(this);\r\n    this.editorMode = mode;\r\n    if (this.editorMode instanceof TilingMode) {\r\n      this.ensureTilingLayers(this.editorMode);\r\n    }\r\n    this.editorMode.enter(this);\r\n  }\r\n\r\n  setCameraMode() {\r\n    this.setEditorMode(new CameraMode());\r\n  }\r\n\r\n  setEntityEditMode() {\r\n    this.setEditorMode(new EntityEditMode());\r\n  }\r\n\r\n  getEditorMode() {\r\n    return this.editorMode;\r\n  }\r\n\r\n  worldToTileXY(worldX: number, worldY: number): { x: number; y: number } | null {\r\n    if (!this.map) return null;\r\n    const tx = Math.floor(worldX / tileSize) + this.tileOffsetX;\r\n    const ty = Math.floor(worldY / tileSize) + this.tileOffsetY;\r\n    if (tx < 0 || ty < 0 || tx >= this.map.width || ty >= this.map.height) return null;\r\n    return { x: tx, y: ty };\r\n  }\r\n\r\n  // -----------------------\r\n  // ?癒??UI ?源낆쨯\r\n  // -----------------------\r\n  /**\r\n   * ?癒???遺얠쟿?? ??삵닏??븍뱜????????뺤삋域밸챸六????EntityEditMode嚥???쇰선揶쎛野???롮젻筌?\r\n   * ?癒??UI 筌띾슢諭얏???뤾퐣 ????λ땾 ?紐꾪뀱??곸㉭.\r\n   */\r\n  registerAssetUI(obj: Phaser.GameObjects.GameObject, assetId: string) {\r\n    const sprite = obj as Phaser.GameObjects.Sprite;\r\n    sprite.setInteractive({ useHandCursor: true });\r\n    sprite.setScrollFactor(0);\r\n    sprite.setDepth(10000);\r\n\r\n    sprite.setData(\"uiType\", \"asset\");\r\n    sprite.setData(\"assetId\", assetId);\r\n\r\n    this.assetGroup.add(obj);\r\n  }\r\n\r\n  // -----------------------\r\n  // create\r\n  // -----------------------\r\n  create() {\r\n    console.log(\"[EditorScene] create() called - starting initialization\");\r\n    this.ready = true;\r\n\r\n    this.gridGfx = this.add.graphics();\r\n    this.gridGfx.setDepth(9999);\r\n\r\n    this.entityGroup = this.add.group();\r\n    this.assetGroup = this.add.group();\r\n\r\n    // --- EAC ?쒖뒪??珥덇린??(??쇰㏊ 濡쒕뱶? 臾닿??섍쾶 利됱떆 珥덇린?? ---\r\n    this._keyboardAdapter = new KeyboardAdapter(this);\r\n\r\n    EventBus.on((event) => {\r\n      // ?ъ뿉 ?덈뒗 紐⑤뱺 ?뷀떚?곗뿉 ???猷?泥댄겕\r\n      editorCore.getEntities().forEach((entity) => {\r\n        if (!entity.rules || entity.rules.length === 0) return;\r\n\r\n        // ActionContext ?앹꽦\r\n        const moduleMap: any = {};\r\n        if (entity.modules) {\r\n          entity.modules.forEach(m => {\r\n            moduleMap[m.type] = m;\r\n          });\r\n        }\r\n\r\n        const ctx = {\r\n          entityId: entity.id,\r\n          modules: moduleMap,\r\n          eventData: event.data || {},\r\n          globals: { scene: this }\r\n        };\r\n\r\n        RuleEngine.handleEvent(event, ctx, entity.rules);\r\n      });\r\n    });\r\n\r\n    console.log(\"[EditorScene] EAC System initialized\");\r\n    // --- EAC ??---\r\n\r\n    const getCanvasPos = (clientX: number, clientY: number) => {\r\n\r\n      if (!this.sys?.game?.canvas)\r\n        return;\r\n      const rect = this.sys.game.canvas.getBoundingClientRect();\r\n\r\n      const inside =\r\n        clientX >= rect.left &&\r\n        clientX <= rect.right &&\r\n        clientY >= rect.top &&\r\n        clientY <= rect.bottom;\r\n\r\n      const x = (clientX - rect.left) * (this.sys.game.canvas.width / rect.width);\r\n      const y = (clientY - rect.top) * (this.sys.game.canvas.height / rect.height);\r\n\r\n      return { x, y, inside, rect };\r\n    };\r\n\r\n    const feedPointer = (clientX: number, clientY: number) => {\r\n      try {\r\n        if (!this.input?.activePointer) {\r\n          return { p: null as unknown as Phaser.Input.Pointer, inside: false };\r\n        }\r\n        const result = getCanvasPos(clientX, clientY);\r\n        if (!result) {\r\n          return { p: this.input.activePointer, inside: false };\r\n        }\r\n        const { x, y, inside } = result;\r\n\r\n        const p = this.input.activePointer;\r\n        p.x = x;\r\n        p.y = y;\r\n\r\n        return { p: this.input.activePointer, inside };\r\n      } catch {\r\n        return { p: null as unknown as Phaser.Input.Pointer, inside: false };\r\n      }\r\n    };\r\n\r\n    const onWinPointerDown = (e: PointerEvent) => {\r\n      if (!this.ready) return;\r\n      const { p, inside } = feedPointer(e.clientX, e.clientY);\r\n      if (!inside) return;\r\n\r\n      const buildContext = (pointer: Phaser.Input.Pointer, mouse: \"mousedown\" | \"mouseup\" | \"mousemove\"): EditorContext => ({\r\n        currentMode: this.editorMode,\r\n        currentSelectedAsset: this.editorCore?.getSelectedAsset() ?? undefined,\r\n        currentDraggingAsset: this.editorCore?.getDraggedAsset() ?? undefined,\r\n        currentSelecedEntity: this.getEntityUnderPointer(pointer),\r\n        mouse,\r\n      });\r\n\r\n      // If nothing is being dragged and no entity is selected, return to CameraMode\r\n      const noDragged = !this.editorCore?.getDraggedAsset();\r\n      const noSelectedEntity = !this.editorCore?.getSelectedEntity();\r\n      const noSelectedAsset = !this.editorCore?.getSelectedAsset();\r\n      if (noDragged && noSelectedEntity && noSelectedAsset) {\r\n        this.setCameraMode();\r\n        const cm: EditorContext = { currentMode: new CameraMode(), mouse: \"mouseup\" };\r\n        this.editorCore?.sendContextToEditorModeStateMachine(cm);\r\n      }\r\n\r\n\r\n      // ??1) ?癒??UI ??????뺤삋域???뽰삂????-> ?酉???筌뤴뫀諭뜻에?筌욊쑴??+ ??밴쉐(+??뺤삋域???뽰삂)\r\n      if (this.tryEnterEntityEditFromAsset(p)) {\r\n        this.editorCore?.sendContextToEditorModeStateMachine({\r\n          currentMode: new EntityEditMode(),\r\n          currentSelectedAsset: this.editorCore?.getSelectedAsset() ?? undefined,\r\n          currentDraggingAsset: this.editorCore?.getDraggedAsset() ?? undefined,\r\n          currentSelecedEntity: this.getEntityUnderPointer(p),\r\n          mouse: \"mousedown\",\r\n        });\r\n        const next = this.editorCore?.getEditorMode();\r\n        if (next) this.setEditorMode(next);\r\n        return;\r\n      }\r\n\r\n      // ??2) 疫꿸퀣???酉??怨? ?????겹늺 -> ?酉???筌뤴뫀諭뜻에?筌욊쑴???곴퐣 ??뺤삋域???뽰삂\r\n      if (this.tryEnterEntityEditFromEntity(p)) {\r\n        this.editorCore?.sendContextToEditorModeStateMachine({\r\n          currentMode: new EntityEditMode(),\r\n          currentSelectedAsset: this.editorCore?.getSelectedAsset() ?? undefined,\r\n          currentDraggingAsset: this.editorCore?.getDraggedAsset() ?? undefined,\r\n          currentSelecedEntity: this.getEntityUnderPointer(p),\r\n          mouse: \"mousedown\",\r\n        });\r\n        const next = this.editorCore?.getEditorMode();\r\n        if (next) this.setEditorMode(next);\r\n        return;\r\n      }\r\n\r\n      // ??3) 域??紐껊뮉 ?袁⑹삺 筌뤴뫀諭???袁⑹뿫\r\n      this.editorMode.onPointerDown(this, p);\r\n      this.editorCore?.sendContextToEditorModeStateMachine(buildContext(p, \"mousedown\"));\r\n      const next = this.editorCore?.getEditorMode();\r\n      if (next) this.setEditorMode(next);\r\n    };\r\n\r\n    const onWinPointerMove = (e: PointerEvent) => {\r\n      if (!this.ready) return;\r\n      const { p, inside } = feedPointer(e.clientX, e.clientY);\r\n      if (!inside) return;\r\n\r\n      // ?쒕옒洹?以묒뿉???꾩옱 ?좏깮???뷀떚?곕? ?좎? (?ъ씤?곌? ?뷀떚??諛붽묑?쇰줈 ?섍????좏깮 ?댁젣 ????\r\n      const currentEntity = this.editorCore?.getSelectedEntity();\r\n      const entityUnderPointer = this.getEntityUnderPointer(p);\r\n\r\n      // update core FSM with refreshed context after pointer move\r\n      const ctx: EditorContext = {\r\n        currentMode: this.editorMode,\r\n        currentSelectedAsset: this.editorCore?.getSelectedAsset() ?? undefined,\r\n        currentDraggingAsset: this.editorCore?.getDraggedAsset() ?? undefined,\r\n        // ?쒕옒洹?以?EntityEditMode)?대㈃ 湲곗〈 ?좏깮 ?좎?, ?꾨땲硫??ъ씤???꾨옒 ?뷀떚??r\n        currentSelecedEntity: entityUnderPointer ?? currentEntity ?? undefined,\r\n        mouse: \"mousemove\",\r\n      };\r\n      this.editorCore?.sendContextToEditorModeStateMachine(ctx);\r\n      const nextMode = this.editorCore?.getEditorMode();\r\n      if (nextMode) this.setEditorMode(nextMode);\r\n\r\n      this.editorMode.onPointerMove(this, p);\r\n    };\r\n\r\n    const onWinPointerUp = (e: PointerEvent) => {\r\n      if (!this.ready) return;\r\n      const { p } = feedPointer(e.clientX, e.clientY);\r\n      // allow mode to transition before snapshotting context\r\n      this.editorMode.onPointerUp(this, p);\r\n      const ctx: EditorContext = {\r\n        currentMode: this.editorMode,\r\n        currentSelectedAsset: this.editorCore?.getSelectedAsset() ?? undefined,\r\n        currentDraggingAsset: this.editorCore?.getDraggedAsset() ?? undefined,\r\n        currentSelecedEntity: this.getEntityUnderPointer(p),\r\n        mouse: \"mouseup\",\r\n      };\r\n      this.editorCore?.sendContextToEditorModeStateMachine(ctx);\r\n      const next = this.editorCore?.getEditorMode();\r\n      if (next) this.setEditorMode(next);\r\n    };\r\n\r\n    const onWinWheel = (e: WheelEvent) => {\r\n      if (!this.ready) return;\r\n      const result = getCanvasPos(e.clientX, e.clientY);\r\n      if (!result) return;\r\n      if (!result.inside) return;\r\n\r\n      e.preventDefault();\r\n      this.editorMode.onScroll(this, e.deltaY);\r\n    };\r\n\r\n    this.onReady(this, () => {\r\n      this.map = this.make.tilemap({\r\n        tileWidth: tileSize,\r\n        tileHeight: tileSize,\r\n        width: 200,\r\n        height: 200,\r\n      });\r\n\r\n      this.tileset = this.map.addTilesetImage(\"tiles\", \"tiles\", tileSize, tileSize)!;\r\n\r\n      this.baselayer = this.map.createBlankLayer(\"base\", this.tileset, 0, 0)!;\r\n      this.previewlayer = this.map.createBlankLayer(\"preview\", this.tileset, 0, 0)!;\r\n\r\n      this.tileOffsetX = Math.floor(this.map.width / 2);\r\n      this.tileOffsetY = Math.floor(this.map.height / 2);\r\n      const offsetX = -this.tileOffsetX * tileSize;\r\n      const offsetY = -this.tileOffsetY * tileSize;\r\n      this.baselayer.setPosition(offsetX, offsetY);\r\n      this.previewlayer.setPosition(offsetX, offsetY);\r\n\r\n      this.baselayer.setDepth(0);\r\n      this.previewlayer.setDepth(1);\r\n\r\n      window.addEventListener(\"pointerdown\", onWinPointerDown);\r\n      window.addEventListener(\"pointermove\", onWinPointerMove, { capture: true });\r\n      window.addEventListener(\"pointerup\", onWinPointerUp);\r\n      window.addEventListener(\"wheel\", onWinWheel, { passive: false });\r\n\r\n      this.events.once(Phaser.Scenes.Events.SHUTDOWN, () => {\r\n        window.removeEventListener(\"pointerdown\", onWinPointerDown);\r\n        window.removeEventListener(\"pointermove\", onWinPointerMove);\r\n        window.removeEventListener(\"pointerup\", onWinPointerUp);\r\n        window.removeEventListener(\"wheel\", onWinWheel);\r\n      });\r\n      this.events.once(Phaser.Scenes.Events.DESTROY, () => {\r\n        window.removeEventListener(\"pointerdown\", onWinPointerDown);\r\n        window.removeEventListener(\"pointermove\", onWinPointerMove);\r\n        window.removeEventListener(\"pointerup\", onWinPointerUp);\r\n        window.removeEventListener(\"wheel\", onWinWheel);\r\n      });\r\n\r\n      this.ready = true;\r\n    });\r\n  }\r\n\r\n\r\n  // -----------------------\r\n  // ?酉???揶쏄퉮??(餓λ쵐??\r\n  // -----------------------\r\n  updateEntities(entities: EditorEntity[]) {\r\n    if (!this.ready) return;\r\n\r\n    // ??this.children.removeAll() ?怨뺛늺 grid/??됱뵠??猷??醫롫툡揶?????됱벉\r\n    // ??entityGroup筌???揶쏅뜆釉??깆뒭??\r\n    const old = this.entityGroup.getChildren();\r\n    for (const c of old) c.destroy();\r\n    this.entityGroup.clear(false);\r\n\r\n    // Reset runtime components\r\n    this.runtimeComponents = [];\r\n\r\n    entities.forEach((e) => {\r\n      const rect = this.add.rectangle(e.x, e.y, 40, 40, 0xffffff);\r\n      rect.setData(\"id\", e.id);\r\n      rect.setInteractive({ useHandCursor: true });\r\n      rect.setName(e.name); // Phaser Name\r\n\r\n      this.entityGroup.add(rect);\r\n\r\n      // Populate runtime components (Optimization)\r\n      if (e.components) {\r\n        e.components.forEach((comp) => {\r\n          this.runtimeComponents.push({\r\n            comp,\r\n            target: rect,\r\n            initialScale: { x: rect.scaleX, y: rect.scaleY },\r\n          });\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  // -----------------------\r\n  // update / grid\r\n  // -----------------------\r\n  update(time: number, delta: number) {\r\n    // -------------------------\r\n\r\n    // 1) Grid\r\n    this.redrawGrid();\r\n\r\n    // Optimized Component System Loop\r\n    // Only iterates active components\r\n    const dt = delta / 1000; // seconds\r\n\r\n    for (const rc of this.runtimeComponents) {\r\n      if (!rc.target.active) continue;\r\n\r\n      switch (rc.comp.type) {\r\n        case \"AutoRotate\": {\r\n          const c = rc.comp as AutoRotateComponent;\r\n          // Rotate target\r\n          rc.target.angle += c.speed * dt;\r\n          break;\r\n        }\r\n        case \"Pulse\": {\r\n          const c = rc.comp as PulseComponent;\r\n          // Pulse scale\r\n          // simple sine wave based on time\r\n          const t = time / 1000 * c.speed;\r\n          const scaleRange = (c.maxScale - c.minScale) / 2;\r\n          const baseScale = (c.maxScale + c.minScale) / 2;\r\n          const currentScale = baseScale + Math.sin(t) * scaleRange;\r\n\r\n          rc.target.setScale(currentScale);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  redrawGrid() {\r\n    if (!this.gridGfx || !this.cameras?.main) return;\r\n\r\n    const cam = this.cameras.main;\r\n    const view = cam.worldView;\r\n\r\n    const left = Math.floor(view.x / tileSize) * tileSize;\r\n    const right = Math.ceil((view.x + view.width) / tileSize) * tileSize;\r\n    const top = Math.floor(view.y / tileSize) * tileSize;\r\n    const bottom = Math.ceil((view.y + view.height) / tileSize) * tileSize;\r\n\r\n    this.gridGfx.clear();\r\n    this.gridGfx.lineStyle(1, 0xffffff, 0.15);\r\n\r\n    for (let x = left; x <= right; x += tileSize) {\r\n      this.gridGfx.beginPath();\r\n      this.gridGfx.moveTo(x, top);\r\n      this.gridGfx.lineTo(x, bottom);\r\n      this.gridGfx.strokePath();\r\n    }\r\n\r\n    for (let y = top; y <= bottom; y += tileSize) {\r\n      this.gridGfx.beginPath();\r\n      this.gridGfx.moveTo(left, y);\r\n      this.gridGfx.lineTo(right, y);\r\n      this.gridGfx.strokePath();\r\n    }\r\n  }\r\n\r\n  // =========================================================\r\n  // ?袁⑥삋????뽯퓠???酉?????????EntityEditMode嚥??癒?짗 筌욊쑴??????뼎\r\n  // =========================================================\r\n\r\n  private hitTest(pointer: Phaser.Input.Pointer): Phaser.GameObjects.GameObject[] {\r\n    // hitTestPointer??setInteractive()???醫딅굶筌???レ삋\r\n    const inputPlugin = this.input as Phaser.Input.InputPlugin & {\r\n      hitTestPointer: (pointer: Phaser.Input.Pointer) => Phaser.GameObjects.GameObject[];\r\n    };\r\n    return inputPlugin.hitTestPointer(pointer) || [];\r\n  }\r\n\r\n  private getEntityUnderPointer(pointer: Phaser.Input.Pointer): EditorEntity | undefined {\r\n    const entities = this.entityGroup?.getChildren() as Phaser.GameObjects.GameObject[] | undefined;\r\n    if (!entities || !entities.length) return undefined;\r\n\r\n    const world = this.cameras.main.getWorldPoint(pointer.x, pointer.y);\r\n    let best: Phaser.GameObjects.GameObject | null = null;\r\n    let bestDepth = -Infinity;\r\n\r\n    for (const obj of entities) {\r\n      const gameObj = obj as Phaser.GameObjects.GameObject & {\r\n        visible?: boolean;\r\n        getBounds?: () => Phaser.Geom.Rectangle;\r\n        depth?: number;\r\n      };\r\n      if (!obj.active || gameObj.visible === false) continue;\r\n\r\n      const bounds: Phaser.Geom.Rectangle | null =\r\n        typeof gameObj.getBounds === \"function\" ? gameObj.getBounds() : null;\r\n\r\n      if (!bounds) continue;\r\n\r\n      if (bounds.contains(world.x, world.y)) {\r\n        const d = gameObj.depth ?? 0;\r\n        if (d >= bestDepth) {\r\n          bestDepth = d;\r\n          best = obj;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (!best) return undefined;\r\n    const id = (best as Phaser.GameObjects.GameObject & { getData?: (key: string) => unknown }).getData?.(\"id\");\r\n    if (!id) return undefined;\r\n    const fromCore = this.editorCore?.getEntities().get(id as string);\r\n    if (fromCore) return fromCore;\r\n\r\n    const transform = best as Phaser.GameObjects.GameObject & Phaser.GameObjects.Components.Transform;\r\n    return {\r\n      id: id as string,\r\n      type: \"Unknown\" as any,\r\n      name: \"Entity\",\r\n      x: transform.x ?? world.x,\r\n      y: transform.y ?? world.y,\r\n      z: 0,\r\n      variables: [],\r\n      events: [],\r\n      components: [],\r\n      rules: [],\r\n      modules: [],\r\n    };\r\n  }\r\n\r\n  /**\r\n   * ?癒???遺얠쟿??????????뺤삋域???뽰삂??됱몵筌?\r\n   * - ?酉??怨? ??밴쉐??랁?r\n   * - EntityEditMode嚥??袁れ넎????\r\n   * - 揶쏆늿? pointerDown????띻볼????뺤뺍嚥???뺤삋域???뽰삂??룻돱筌왖 ??곷선揶?\r\n   */\r\n  private tryEnterEntityEditFromAsset(p: Phaser.Input.Pointer): boolean {\r\n    const hits = this.hitTest(p);\r\n\r\n    // ?癒??UI 筌≪뼐由?r\n    const assetObj = hits.find((obj) => {\r\n      const gameObj = obj as Phaser.GameObjects.GameObject & { getData?: (key: string) => unknown };\r\n      return gameObj.getData?.(\"uiType\") === \"asset\";\r\n    });\r\n    if (!assetObj) return false;\r\n\r\n    const assetGameObj = assetObj as Phaser.GameObjects.GameObject & { getData?: (key: string) => unknown };\r\n    const assetId = assetGameObj.getData?.(\"assetId\");\r\n\r\n    // ?酉??怨? ?袁⑹삺 ?뚣끉苑??遺얜굡 ?袁⑺뒄????밴쉐\r\n    const world = this.cameras.main.getWorldPoint(p.x, p.y);\r\n\r\n    const ent = this.add.rectangle(world.x, world.y, 40, 40, 0xffffff);\r\n    ent.setInteractive({ useHandCursor: true });\r\n\r\n    // id / assetId ????\r\n    ent.setData(\"id\", crypto.randomUUID());\r\n    ent.setData(\"assetId\", assetId);\r\n\r\n    this.entityGroup.add(ent);\r\n\r\n    // EntityEditMode嚥??袁れ넎 ?? ??쇱뒲 ??源???袁⑤뼎 ??筌앸맩????뺤삋域???곷선筌?\r\n    this.setEntityEditMode();\r\n    this.editorMode.onPointerDown(this, p);\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * 疫꿸퀣???酉??怨? ?????겹늺:\r\n   * - EntityEditMode嚥??袁れ넎??랁?r\n   * - 揶쏆늿? pointerDown????띻볼??獄쏅뗀以???뺤삋域???띿쓺 ??\r\n   */\r\n  private tryEnterEntityEditFromEntity(p: Phaser.Input.Pointer): boolean {\r\n    const world = this.cameras.main.getWorldPoint(p.x, p.y);\r\n    const entities = this.entityGroup.getChildren() as Phaser.GameObjects.GameObject[];\r\n    if (!entities.length) return false;\r\n\r\n    let best: Phaser.GameObjects.GameObject | null = null;\r\n    let bestDepth = -Infinity;\r\n\r\n    for (const obj of entities) {\r\n      const gameObj = obj as Phaser.GameObjects.GameObject & {\r\n        visible?: boolean;\r\n        getBounds?: () => Phaser.Geom.Rectangle;\r\n        depth?: number;\r\n      };\r\n      if (!obj.active || gameObj.visible === false) continue;\r\n\r\n      const bounds: Phaser.Geom.Rectangle | null =\r\n        typeof gameObj.getBounds === \"function\" ? gameObj.getBounds() : null;\r\n\r\n      if (!bounds) continue;\r\n\r\n      if (bounds.contains(world.x, world.y)) {\r\n        const d = gameObj.depth ?? 0;\r\n        if (d >= bestDepth) {\r\n          bestDepth = d;\r\n          best = obj;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (!best) return false;\r\n\r\n    this.setEntityEditMode();\r\n    this.editorMode.onPointerDown(this, p);\r\n    return true;\r\n  }\r\n}\r\n\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\EditorState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\HierarchyPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\IEditorOperations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\RunTimeCanvas.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'assets', 'entities', and 'tiles'. Either include them or remove the dependency array.","line":124,"column":8,"nodeType":"ArrayExpression","endLine":124,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [assets, entities, tiles]","fix":{"range":[4201,4203],"text":"[assets, entities, tiles]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect, useRef } from \"react\";\r\nimport { useEditorCoreSnapshot } from \"../contexts/EditorCoreContext\";\r\nimport { GameCore } from \"./core/GameCore\";\r\nimport { PhaserRenderer } from \"./renderer/PhaserRenderer\";\r\nimport type { Asset } from \"./types/Asset\";\r\nimport type { TilePlacement } from \"./EditorCore\";\r\n\r\nconst TILE_SIZE = 32;\r\nconst TILESET_COLS = 16;\r\n\r\nasync function buildTilesetCanvas(assets: Asset[]): Promise<HTMLCanvasElement | null> {\r\n    // ????먯뀑???섎굹??罹붾쾭?ㅻ줈 ?⑹퀜 ??쇱뀑 ?띿뒪泥섎? 留뚮뱺??\r\n    const tileAssets = assets.filter((asset) => asset.tag === \"Tile\");\r\n    if (tileAssets.length === 0) return null;\r\n\r\n    const tilesetcanvas = document.createElement(\"canvas\");\r\n    tilesetcanvas.width = TILE_SIZE * TILESET_COLS;\r\n    tilesetcanvas.height = Math.ceil(tileAssets.length / TILESET_COLS) * TILE_SIZE;\r\n\r\n    const ctx = tilesetcanvas.getContext(\"2d\");\r\n    if (!ctx) throw new Error(\"no 2d context\");\r\n\r\n    let idx = 0;\r\n    for (const asset of tileAssets) {\r\n        asset.idx = idx;\r\n\r\n        const img = new Image();\r\n        img.src = asset.url;\r\n        await img.decode();\r\n\r\n        const x = (idx % TILESET_COLS) * TILE_SIZE;\r\n        const y = Math.floor(idx / TILESET_COLS) * TILE_SIZE;\r\n        ctx.drawImage(img, x, y, TILE_SIZE, TILE_SIZE);\r\n\r\n        idx++;\r\n    }\r\n\r\n    return tilesetcanvas;\r\n}\r\n\r\nfunction indexTiles(tiles: TilePlacement[]) {\r\n    // ???諛곗뿴??醫뚰몴 ??留듭쑝濡?蹂?섑빐 diff 怨꾩궛???ъ슜?쒕떎.\r\n    const map = new Map<string, TilePlacement>();\r\n    for (const t of tiles) {\r\n        map.set(`${t.x},${t.y}`, t);\r\n    }\r\n    return map;\r\n}\r\n\r\nexport function RunTimeCanvas() {\r\n    const ref = useRef<HTMLDivElement>(null);\r\n    const rendererRef = useRef<PhaserRenderer | null>(null);\r\n    const gameCoreRef = useRef<GameCore | null>(null);\r\n    const prevTilesRef = useRef<Map<string, TilePlacement>>(new Map());\r\n    const { assets, tiles, entities } = useEditorCoreSnapshot();\r\n\r\n    useEffect(() => {\r\n        // ?고????뚮뜑??寃뚯엫肄붿뼱 珥덇린??(理쒖큹 1??\r\n        if (!ref.current) return;\r\n        if (rendererRef.current) return;\r\n\r\n        const renderer = new PhaserRenderer();\r\n        rendererRef.current = renderer;\r\n        const gameCore = new GameCore(renderer);\r\n        gameCoreRef.current = gameCore;\r\n        renderer.useEditorCoreRuntimePhysics = false;\r\n        renderer.onInputState = (input) => {\r\n            gameCore.setInputState(input);\r\n        };\r\n\r\n        let active = true;\r\n\r\n        (async () => {\r\n            // ?뚮뜑??珥덇린?????띿뒪泥???쇱뀑/珥덇린 ?곹깭瑜?濡쒕뱶?쒕떎.\r\n            await renderer.init(ref.current as HTMLElement);\r\n            if (!active) return;\r\n\r\n            for (const asset of assets) {\r\n                // ??쇱? ??쇱뀑 罹붾쾭?ㅻ줈 泥섎━?섎?濡?鍮꾪??쇰쭔 濡쒕뱶?쒕떎.\r\n                if (asset.tag === \"Tile\") continue;\r\n                await renderer.loadTexture(asset.name, asset.url);\r\n            }\r\n\r\n            const tilesetCanvas = await buildTilesetCanvas(assets);\r\n            if (tilesetCanvas) {\r\n                // ??쇱뀑 ?띿뒪泥??깅줉 ????쇰㏊ ?앹꽦\r\n                renderer.addCanvasTexture(\"tiles\", tilesetCanvas);\r\n                renderer.initTilemap(\"tiles\");\r\n            }\r\n\r\n            for (const t of tiles) {\r\n                // ??λ맂 ???諛곗튂 蹂듭썝\r\n                renderer.setTile(t.x, t.y, t.tile);\r\n            }\r\n\r\n            for (const e of entities) {\r\n                // ??λ맂 ?뷀떚???앹꽦\r\n                gameCore.createEntity(e.id, e.type, e.x, e.y, {\r\n                    name: e.name,\r\n                    texture: e.name,\r\n                    variables: e.variables,\r\n                    components: e.components,\r\n                    modules: e.modules,\r\n                    rules: e.rules,\r\n                });\r\n            }\r\n\r\n            // ?고????낅뜲?댄듃 猷⑦봽 ?곌껐 (而댄룷?뚰듃 泥섎━)\r\n            renderer.onUpdateCallback = (time, delta) => {\r\n                gameCore.update(time, delta);\r\n            };\r\n        })();\r\n\r\n        return () => {\r\n            // ?몃쭏?댄듃 ??由ъ냼???뺣━\r\n            active = false;\r\n            gameCoreRef.current?.destroy();\r\n            renderer.onUpdateCallback = undefined;\r\n            renderer.onInputState = undefined;\r\n            renderer.destroy();\r\n            rendererRef.current = null;\r\n            gameCoreRef.current = null;\r\n        };\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        // ???蹂寃쎌궗??쭔 諛섏쁺 (異붽?/??젣 diff)\r\n        const renderer = rendererRef.current;\r\n        if (!renderer) return;\r\n\r\n        const nextTiles = indexTiles(tiles);\r\n        const prevTiles = prevTilesRef.current;\r\n\r\n        for (const [key, prev] of prevTiles.entries()) {\r\n            if (!nextTiles.has(key)) {\r\n                renderer.removeTile(prev.x, prev.y);\r\n            }\r\n        }\r\n\r\n        for (const t of nextTiles.values()) {\r\n            renderer.setTile(t.x, t.y, t.tile);\r\n        }\r\n\r\n        prevTilesRef.current = nextTiles;\r\n    }, [tiles]);\r\n\r\n    // Entry Style Colors\r\n    const colors = {\r\n        bgPrimary: '#0d1117',\r\n        bgSecondary: '#161b22',\r\n        bgTertiary: '#21262d',\r\n        borderColor: '#30363d',\r\n        borderAccent: '#1f6feb',\r\n        accentLight: '#58a6ff',\r\n        textPrimary: '#f0f6fc',\r\n        textSecondary: '#8b949e',\r\n    };\r\n\r\n    return (\r\n        <div style={{\r\n            flex: 1,\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            padding: '12px',\r\n            overflow: 'hidden',\r\n        }}>\r\n            {/* Toolbar */}\r\n            <div style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: '8px',\r\n                marginBottom: '12px',\r\n                padding: '8px 12px',\r\n                background: colors.bgSecondary,\r\n                border: `2px solid ${colors.borderColor}`,\r\n                borderRadius: '6px',\r\n            }}>\r\n                <span style={{\r\n                    fontSize: '12px',\r\n                    color: colors.textSecondary,\r\n                    padding: '4px 8px',\r\n                }}>\r\n                    InGame Camera\r\n                </span>\r\n            </div>\r\n\r\n            {/* Phaser Canvas Container */}\r\n            <div\r\n                ref={ref}\r\n                style={{\r\n                    flex: 1,\r\n                    background: colors.bgPrimary,\r\n                    border: `2px solid ${colors.borderColor}`,\r\n                    borderRadius: '6px',\r\n                    overflow: 'hidden',\r\n                }}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\components\\ColorPicker.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\constants\\colors.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\core\\GameCore.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\core\\IGameState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\core\\RuntimePhysics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\core\\events\\ActionRegistry.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\core\\events\\ConditionRegistry.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\core\\events\\EventBus.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\core\\events\\RuleEngine.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\core\\events\\actions\\DefaultActions.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":14,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[425,428],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[425,428],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":57,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":57,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1879,1882],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1879,1882],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":90,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":90,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2940,2943],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2940,2943],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":114,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":114,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3706,3709],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3706,3709],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ActionRegistry, type ActionContext } from \"../ActionRegistry\";\r\nimport { EventBus } from \"../EventBus\";\r\nimport Phaser from \"phaser\";\r\nimport { editorCore } from \"../../../EditorCore\";\r\n\r\n/**\r\n * 湲곕낯 ?≪뀡 ?깅줉\r\n * 紐⑤뱢?ㅼ씠 濡쒕뱶???????뚯씪???④퍡 濡쒕뱶?섏뼱???⑸땲??\r\n */\r\n\r\n// --- Kinetic Actions ---\r\n\r\nActionRegistry.register(\"Move\", (ctx: ActionContext, params: Record<string, unknown>) => {\r\n    const renderer = ctx.globals?.renderer as any;\r\n    if (!renderer) {\r\n        console.warn(\"[Action] Move: No renderer in context\");\r\n        return;\r\n    }\r\n\r\n    const entityId = ctx.entityId;\r\n    const gameObject = renderer.getGameObject?.(entityId);\r\n    if (!gameObject) {\r\n        console.warn(`[Action] Move: GameObject not found for entity ${entityId}`);\r\n        return;\r\n    }\r\n\r\n    // ?뚮씪誘명꽣?먯꽌 諛⑺뼢怨??띾룄瑜?媛?몄샂\r\n    const x = (params.x as number) ?? 0;\r\n    const y = (params.y as number) ?? 0;\r\n    const speed = (params.speed as number) ?? 200;\r\n    const dt = 0.016; // ??60fps 湲곗?\r\n\r\n    // ?ㅼ젣 ?꾩튂 ?대룞\r\n    gameObject.x += x * speed * dt;\r\n    gameObject.y += y * speed * dt;\r\n\r\n    // EditorCore??entity ?곗씠?곕룄 ?낅뜲?댄듃 (?숆린??\r\n    const entity = editorCore.getEntities().get(entityId);\r\n    if (entity) {\r\n        entity.x = gameObject.x;\r\n        entity.y = gameObject.y;\r\n    }\r\n\r\n    console.log(`[Action] Move: Entity ${entityId} moved to (${gameObject.x.toFixed(1)}, ${gameObject.y.toFixed(1)})`);\r\n});\r\n\r\nActionRegistry.register(\"Jump\", (_ctx: ActionContext, _params: Record<string, unknown>) => {\r\n    // Jump ?≪뀡? ???댁긽 ?꾩튂瑜?吏곸젒 蹂寃쏀븯吏 ?딆뒿?덈떎.\r\n    // update() 猷⑦봽??臾쇰━ ?붿쭊??紐⑤뱺 ?먰봽瑜?泥섎━?⑸땲??\r\n    // ???≪뀡? EAC 洹쒖튃 ?명솚?깆쓣 ?꾪빐 濡쒓렇留?異쒕젰?⑸땲??\r\n    console.log(`[Action] Jump: Handled by physics engine (not direct position change)`);\r\n});\r\n\r\n// --- Combat Actions ---\r\n\r\nActionRegistry.register(\"Attack\", (ctx: ActionContext, params: Record<string, unknown>) => {\r\n    const renderer = ctx.globals?.renderer as any;\r\n    if (!renderer) return;\r\n\r\n    const attackerId = ctx.entityId;\r\n    const attackerObj = renderer.getGameObject?.(attackerId);\r\n    if (!attackerObj) return;\r\n\r\n    const range = (params.range as number) ?? 100;\r\n    const damage = (params.damage as number) ?? 10;\r\n\r\n    // ?ㅻⅨ ?뷀떚?곕뱾怨?嫄곕━ 寃??r\n    const allIds = renderer.getAllEntityIds?.() || [];\r\n    for (const id of allIds) {\r\n        if (id === attackerId) continue;\r\n\r\n        const targetObj = renderer.getGameObject?.(id);\r\n        if (!targetObj) continue;\r\n\r\n        const distance = Phaser.Math.Distance.Between(\r\n            attackerObj.x, attackerObj.y,\r\n            targetObj.x, targetObj.y\r\n        );\r\n\r\n        if (distance <= range) {\r\n            EventBus.emit(\"ATTACK_HIT\", { targetId: id, damage, attackerId });\r\n            console.log(`[Action] Attack hit: ${id} for ${damage} damage`);\r\n        }\r\n    }\r\n});\r\n\r\n// --- Status Actions ---\r\n\r\nActionRegistry.register(\"TakeDamage\", (ctx: ActionContext, params: Record<string, unknown>) => {\r\n    const status = ctx.modules.Status as any;\r\n    if (!status) {\r\n        console.warn(\"[Action] TakeDamage: No Status module\");\r\n        return;\r\n    }\r\n\r\n    const amount = (params.amount as number) ?? 1;\r\n\r\n    if (typeof status.takeDamage === 'function') {\r\n        status.takeDamage(amount);\r\n    } else {\r\n        // 吏곸젒 HP 媛먯냼 (?곗씠??紐⑤뱢??寃쎌슦)\r\n        if (status.hp !== undefined) {\r\n            status.hp = Math.max(0, status.hp - amount);\r\n            console.log(`[Action] TakeDamage: HP reduced to ${status.hp}`);\r\n\r\n            if (status.hp <= 0) {\r\n                EventBus.emit(\"ENTITY_DIED\", { entityId: ctx.entityId });\r\n            }\r\n        }\r\n    }\r\n});\r\n\r\nActionRegistry.register(\"Heal\", (ctx: ActionContext, params: Record<string, unknown>) => {\r\n    const status = ctx.modules.Status as any;\r\n    if (!status) return;\r\n\r\n    const amount = (params.amount as number) ?? 10;\r\n\r\n    if (typeof status.heal === 'function') {\r\n        status.heal(amount);\r\n    } else if (status.hp !== undefined && status.maxHp !== undefined) {\r\n        status.hp = Math.min(status.maxHp, status.hp + amount);\r\n        console.log(`[Action] Heal: HP increased to ${status.hp}`);\r\n    }\r\n});\r\n\r\nconsole.log(\"[DefaultActions] Actions registered with runtime support.\");\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\core\\events\\adapters\\KeyboardAdapter.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\core\\events\\conditions\\DefaultConditions.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":18,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[505,508],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[505,508],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ConditionRegistry } from \"../ConditionRegistry\";\r\nimport type { ActionContext } from \"../ActionRegistry\";\r\n\r\n/**\r\n * 湲곕낯 議곌굔 ?깅줉\r\n */\r\n\r\n// --- Kinetic Conditions ---\r\n\r\nConditionRegistry.register(\"IsGrounded\", (ctx: ActionContext) => {\r\n    const kinetic = ctx.modules.Kinetic;\r\n    if (!kinetic) return false;\r\n\r\n    // KineticModule??isGrounded ?띿꽦???덈떎怨?媛??(?뺤씤 ?꾩슂)\r\n    // ?ㅼ젣濡쒕뒗 臾쇰━ ?붿쭊 ?곹깭瑜??뺤씤?댁빞 ??r\n    // ?꾩옱 KineticModule 援ы쁽??isGrounded ?꾨줈?쇳떚媛 ?덈뒗吏 ?뺤씤?댁빞 ??\r\n    // ?녿떎硫?異붽??댁빞 ??\r\n    return (kinetic as any).isGrounded ?? true; // ?꾩떆 湲곕낯媛?true\r\n});\r\n\r\n// --- Status Conditions ---\r\n\r\nConditionRegistry.register(\"IsAlive\", (ctx: ActionContext) => {\r\n    const status = ctx.modules.Status;\r\n    if (!status) return false;\r\n\r\n    return status.isAlive;\r\n});\r\n\r\nConditionRegistry.register(\"HpBelow\", (ctx: ActionContext, params: Record<string, unknown>) => {\r\n    const status = ctx.modules.Status;\r\n    if (!status) return false;\r\n\r\n    const limit = (params.value as number) ?? 0;\r\n    return status.hp < limit;\r\n});\r\n\r\nconsole.log(\"[DefaultConditions] Conditions registered.\");\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\core\\events\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\core\\modules\\CombatModule.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\core\\modules\\IModule.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\core\\modules\\KineticModule.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\core\\modules\\NarrativeModule.ts","messages":[{"ruleId":"no-case-declarations","severity":2,"message":"Unexpected lexical declaration in case block.","line":390,"column":17,"nodeType":"VariableDeclaration","messageId":"unexpected","endLine":390,"endColumn":71,"suggestions":[{"messageId":"addBrackets","fix":{"range":[10192,10335],"text":"{ const current = Number(this.data.variables[key] ?? 0);\r\n                this.setVariable(key, current + Number(value));\r\n                break; }"},"desc":"Add {} brackets around the case block."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * NarrativeModule - ???諛??ㅽ넗由?愿由?紐⑤뱢\r\n * \r\n * 鍮꾩＜???몃꺼, RPG ????쒖뒪?????ㅽ넗由ы뀛留곸쓣 ?꾪븳 紐⑤뱢?낅땲??\r\n * \r\n * 二쇱슂 湲곕뒫:\r\n * - ????쒖떆 諛?吏꾪뻾\r\n * - ?좏깮吏 遺꾧린\r\n * - 議곌굔遺 ???r\n * - 蹂??愿由?(?뚮옒洹? 移댁슫??\r\n * \r\n * Unity ?명솚: serialize() 硫붿꽌?쒕줈 C# 援ъ“? 1:1 留ㅽ븨\r\n */\r\n\r\nimport type { IModule } from \"./IModule\";\r\nimport { serializeForUnity } from \"./IModule\";\r\n\r\n/**\r\n * ?좏깮吏 ?명꽣?섏씠??r\n */\r\nexport interface DialogueChoice {\r\n    /** ?좏깮吏 ID */\r\n    id: string;\r\n    /** ?좏깮吏 ?띿뒪??*/\r\n    text: string;\r\n    /** ?ㅼ쓬 ???ID */\r\n    nextDialogueId: string;\r\n    /** 議곌굔??(?좏깮?? ?? \"flag_met_hero == true\") */\r\n    condition?: string;\r\n    /** ?좏깮 ???ㅽ뻾???≪뀡 (?? \"set:flag_met_hero=true\") */\r\n    action?: string;\r\n}\r\n\r\n/**\r\n * ????쇱씤 ?명꽣?섏씠??r\n */\r\nexport interface DialogueLine {\r\n    /** ???ID */\r\n    id: string;\r\n    /** ?붿옄 ?대쫫 */\r\n    speaker: string;\r\n    /** ?붿옄 ?쒖떆紐?(?ㅺ뎅??吏?먯슜) */\r\n    speakerDisplayName?: string;\r\n    /** ????댁슜 */\r\n    text: string;\r\n    /** 罹먮┃???대?吏 ??*/\r\n    portrait?: string;\r\n    /** ?쒖젙/?ъ쫰 (?? \"happy\", \"angry\") */\r\n    emotion?: string;\r\n    /** ?ㅼ쓬 ???ID (?좏깮吏媛 ?놁쓣 寃쎌슦) */\r\n    nextId?: string;\r\n    /** ?좏깮吏 紐⑸줉 */\r\n    choices?: DialogueChoice[];\r\n    /** ?먮룞 吏꾪뻾 ?쒓컙 (珥? 0?대㈃ ?섎룞 吏꾪뻾) */\r\n    autoAdvanceTime?: number;\r\n    /** ?뚯꽦 ?뚯씪 ??*/\r\n    voiceKey?: string;\r\n    /** 諛곌꼍 ?뚯븙 蹂寃?*/\r\n    bgmKey?: string;\r\n    /** 諛곌꼍 ?대?吏 蹂寃?*/\r\n    backgroundKey?: string;\r\n}\r\n\r\n/**\r\n * ?ㅽ넗由?蹂?????r\n */\r\nexport type NarrativeVarValue = string | number | boolean;\r\n\r\n/**\r\n * ?대윭?곕툕 ?곗씠???명꽣?섏씠??r\n */\r\nexport interface NarrativeData {\r\n    /** ???紐⑸줉 */\r\n    dialogues: DialogueLine[];\r\n    /** ?꾩옱 ???ID */\r\n    currentDialogueId: string | null;\r\n    /** ?ㅽ넗由?蹂??(?뚮옒洹? 移댁슫???? */\r\n    variables: Record<string, NarrativeVarValue>;\r\n    /** ????덉뒪?좊━ (諛깅줈洹몄슜) */\r\n    history: string[];\r\n    /** ?덉뒪?좊━ 理쒕? 湲몄씠 */\r\n    maxHistoryLength: number;\r\n    /** ?먮룞 吏꾪뻾 紐⑤뱶 */\r\n    autoMode: boolean;\r\n    /** ?ㅽ궢 紐⑤뱶 */\r\n    skipMode: boolean;\r\n}\r\n\r\n/**\r\n * ????대깽?????r\n */\r\nexport type DialogueEventType =\r\n    | \"start\"           // ????쒖옉\r\n    | \"advance\"         // ?ㅼ쓬 ???r\n    | \"choice\"          // ?좏깮吏 ?좏깮\r\n    | \"end\"             // ???醫낅즺\r\n    | \"variableChange\"; // 蹂??蹂寃?r\n\r\n/**\r\n * ????대깽??肄쒕갚\r\n */\r\nexport type DialogueCallback = (\r\n    event: DialogueEventType,\r\n    data: { dialogue?: DialogueLine; choice?: DialogueChoice; variable?: { key: string; value: NarrativeVarValue } }\r\n) => void;\r\n\r\n/**\r\n * NarrativeModule ?대옒??r\n * \r\n * 寃뚯엫???ㅽ넗由ъ? ??붾? 愿由ы븯??紐⑤뱢?낅땲??\r\n * ?붿쭊 ?낅┰?곸쑝濡??ㅺ퀎?섏뼱 UI ?뚮뜑留곸? ?몃??먯꽌 泥섎━?⑸땲??\r\n */\r\nexport class NarrativeModule implements IModule {\r\n    readonly type = \"Narrative\";\r\n    readonly id: string;\r\n\r\n    private data: NarrativeData;\r\n    private dialogueMap: Map<string, DialogueLine> = new Map();\r\n    private onEvent?: DialogueCallback;\r\n\r\n    constructor(id: string, initialData: Partial<NarrativeData> = {}) {\r\n        this.id = id;\r\n\r\n        this.data = {\r\n            dialogues: initialData.dialogues ?? [],\r\n            currentDialogueId: initialData.currentDialogueId ?? null,\r\n            variables: initialData.variables ?? {},\r\n            history: initialData.history ?? [],\r\n            maxHistoryLength: initialData.maxHistoryLength ?? 100,\r\n            autoMode: initialData.autoMode ?? false,\r\n            skipMode: initialData.skipMode ?? false,\r\n        };\r\n\r\n        // ???留??앹꽦 (鍮좊Ⅸ 議고쉶??\r\n        this.rebuildDialogueMap();\r\n    }\r\n\r\n    // ===== Getters =====\r\n\r\n    /** ?꾩옱 ???*/\r\n    get currentDialogue(): DialogueLine | null {\r\n        if (!this.data.currentDialogueId) return null;\r\n        return this.dialogueMap.get(this.data.currentDialogueId) ?? null;\r\n    }\r\n\r\n    /** ?꾩옱 ?좏깮吏 紐⑸줉 */\r\n    get currentChoices(): DialogueChoice[] {\r\n        const dialogue = this.currentDialogue;\r\n        if (!dialogue?.choices) return [];\r\n\r\n        // 議곌굔 ?꾪꽣留?r\n        return dialogue.choices.filter(choice => this.evaluateCondition(choice.condition));\r\n    }\r\n\r\n    /** ???吏꾪뻾 以??щ? */\r\n    get isActive(): boolean {\r\n        return this.data.currentDialogueId !== null;\r\n    }\r\n\r\n    /** ?덉뒪?좊━ */\r\n    get history(): string[] {\r\n        return [...this.data.history];\r\n    }\r\n\r\n    // ===== ?대깽??=====\r\n\r\n    /**\r\n     * ?대깽??肄쒕갚 ?깅줉\r\n     */\r\n    setOnEvent(callback: DialogueCallback): void {\r\n        this.onEvent = callback;\r\n    }\r\n\r\n    // ===== ???愿由?=====\r\n\r\n    /**\r\n     * ???紐⑸줉 ?ㅼ젙\r\n     */\r\n    setDialogues(dialogues: DialogueLine[]): void {\r\n        this.data.dialogues = dialogues;\r\n        this.rebuildDialogueMap();\r\n    }\r\n\r\n    /**\r\n     * ???異붽?\r\n     */\r\n    addDialogue(dialogue: DialogueLine): void {\r\n        this.data.dialogues.push(dialogue);\r\n        this.dialogueMap.set(dialogue.id, dialogue);\r\n    }\r\n\r\n    /**\r\n     * ???留??ш뎄異?r\n     */\r\n    private rebuildDialogueMap(): void {\r\n        this.dialogueMap.clear();\r\n        for (const d of this.data.dialogues) {\r\n            this.dialogueMap.set(d.id, d);\r\n        }\r\n    }\r\n\r\n    // ===== ???吏꾪뻾 =====\r\n\r\n    /**\r\n     * ????쒖옉\r\n     * @param startId ?쒖옉 ???ID\r\n     */\r\n    startDialogue(startId: string): boolean {\r\n        const dialogue = this.dialogueMap.get(startId);\r\n        if (!dialogue) {\r\n            console.warn(`[NarrativeModule] Dialogue not found: ${startId}`);\r\n            return false;\r\n        }\r\n\r\n        this.data.currentDialogueId = startId;\r\n        this.addToHistory(dialogue);\r\n        this.onEvent?.(\"start\", { dialogue });\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * ?ㅼ쓬 ??щ줈 吏꾪뻾\r\n     */\r\n    advance(): DialogueLine | null {\r\n        const current = this.currentDialogue;\r\n        if (!current) return null;\r\n\r\n        // ?좏깮吏媛 ?덉쑝硫??좏깮 ?湲?r\n        if (current.choices && current.choices.length > 0) {\r\n            return current;\r\n        }\r\n\r\n        // ?ㅼ쓬 ??щ줈 ?대룞\r\n        if (current.nextId) {\r\n            return this.goToDialogue(current.nextId);\r\n        }\r\n\r\n        // ???醫낅즺\r\n        this.endDialogue();\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * ?좏깮吏 ?좏깮\r\n     * @param choiceId ?좏깮吏 ID\r\n     */\r\n    selectChoice(choiceId: string): DialogueLine | null {\r\n        const current = this.currentDialogue;\r\n        if (!current?.choices) return null;\r\n\r\n        const choice = current.choices.find(c => c.id === choiceId);\r\n        if (!choice) {\r\n            console.warn(`[NarrativeModule] Choice not found: ${choiceId}`);\r\n            return null;\r\n        }\r\n\r\n        // 議곌굔 寃??r\n        if (!this.evaluateCondition(choice.condition)) {\r\n            console.warn(`[NarrativeModule] Choice condition not met: ${choice.condition}`);\r\n            return null;\r\n        }\r\n\r\n        // ?≪뀡 ?ㅽ뻾\r\n        if (choice.action) {\r\n            this.executeAction(choice.action);\r\n        }\r\n\r\n        this.onEvent?.(\"choice\", { choice });\r\n\r\n        // ?ㅼ쓬 ??щ줈 ?대룞\r\n        return this.goToDialogue(choice.nextDialogueId);\r\n    }\r\n\r\n    /**\r\n     * ?뱀젙 ??щ줈 ?대룞\r\n     */\r\n    goToDialogue(dialogueId: string): DialogueLine | null {\r\n        const dialogue = this.dialogueMap.get(dialogueId);\r\n        if (!dialogue) {\r\n            console.warn(`[NarrativeModule] Dialogue not found: ${dialogueId}`);\r\n            this.endDialogue();\r\n            return null;\r\n        }\r\n\r\n        this.data.currentDialogueId = dialogueId;\r\n        this.addToHistory(dialogue);\r\n        this.onEvent?.(\"advance\", { dialogue });\r\n\r\n        return dialogue;\r\n    }\r\n\r\n    /**\r\n     * ???醫낅즺\r\n     */\r\n    endDialogue(): void {\r\n        this.data.currentDialogueId = null;\r\n        this.onEvent?.(\"end\", {});\r\n    }\r\n\r\n    /**\r\n     * ?덉뒪?좊━??異붽?\r\n     */\r\n    private addToHistory(dialogue: DialogueLine): void {\r\n        const entry = `${dialogue.speaker}: ${dialogue.text}`;\r\n        this.data.history.push(entry);\r\n\r\n        // 理쒕? 湲몄씠 ?좎?\r\n        while (this.data.history.length > this.data.maxHistoryLength) {\r\n            this.data.history.shift();\r\n        }\r\n    }\r\n\r\n    // ===== 蹂??愿由?=====\r\n\r\n    /**\r\n     * 蹂??議고쉶\r\n     */\r\n    getVariable(key: string): NarrativeVarValue | undefined {\r\n        return this.data.variables[key];\r\n    }\r\n\r\n    /**\r\n     * 蹂???ㅼ젙\r\n     */\r\n    setVariable(key: string, value: NarrativeVarValue): void {\r\n        const oldValue = this.data.variables[key];\r\n        this.data.variables[key] = value;\r\n\r\n        if (oldValue !== value) {\r\n            this.onEvent?.(\"variableChange\", { variable: { key, value } });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 議곌굔???됯?\r\n     * 媛꾨떒??議곌굔??吏?? \"key == value\", \"key != value\", \"key > value\" ??r\n     */\r\n    private evaluateCondition(condition?: string): boolean {\r\n        if (!condition) return true;\r\n\r\n        // 媛꾨떒???뚯떛\r\n        const match = condition.match(/(\\w+)\\s*(==|!=|>|<|>=|<=)\\s*(.+)/);\r\n        if (!match) return true;\r\n\r\n        const [, key, operator, valueStr] = match;\r\n        const varValue = this.data.variables[key];\r\n\r\n        // 媛??뚯떛\r\n        let compareValue: NarrativeVarValue;\r\n        if (valueStr === \"true\") compareValue = true;\r\n        else if (valueStr === \"false\") compareValue = false;\r\n        else if (!isNaN(Number(valueStr))) compareValue = Number(valueStr);\r\n        else compareValue = valueStr.replace(/['\"]/g, \"\");\r\n\r\n        switch (operator) {\r\n            case \"==\": return varValue === compareValue;\r\n            case \"!=\": return varValue !== compareValue;\r\n            case \">\": return Number(varValue) > Number(compareValue);\r\n            case \"<\": return Number(varValue) < Number(compareValue);\r\n            case \">=\": return Number(varValue) >= Number(compareValue);\r\n            case \"<=\": return Number(varValue) <= Number(compareValue);\r\n            default: return true;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * ?≪뀡 ?ㅽ뻾\r\n     * 吏???뺤떇: \"set:key=value\", \"add:key=value\"\r\n     */\r\n    private executeAction(action: string): void {\r\n        const [command, keyValue] = action.split(\":\");\r\n        if (!keyValue) return;\r\n\r\n        const [key, valueStr] = keyValue.split(\"=\");\r\n        if (!key || valueStr === undefined) return;\r\n\r\n        // 媛??뚯떛\r\n        let value: NarrativeVarValue;\r\n        if (valueStr === \"true\") value = true;\r\n        else if (valueStr === \"false\") value = false;\r\n        else if (!isNaN(Number(valueStr))) value = Number(valueStr);\r\n        else value = valueStr;\r\n\r\n        switch (command) {\r\n            case \"set\":\r\n                this.setVariable(key, value);\r\n                break;\r\n            case \"add\":\r\n                const current = Number(this.data.variables[key] ?? 0);\r\n                this.setVariable(key, current + Number(value));\r\n                break;\r\n        }\r\n    }\r\n\r\n    // ===== 紐⑤뱶 ?쒖뼱 =====\r\n\r\n    /**\r\n     * ?먮룞 吏꾪뻾 紐⑤뱶 ?좉?\r\n     */\r\n    toggleAutoMode(): boolean {\r\n        this.data.autoMode = !this.data.autoMode;\r\n        return this.data.autoMode;\r\n    }\r\n\r\n    /**\r\n     * ?ㅽ궢 紐⑤뱶 ?좉?\r\n     */\r\n    toggleSkipMode(): boolean {\r\n        this.data.skipMode = !this.data.skipMode;\r\n        return this.data.skipMode;\r\n    }\r\n\r\n    // ===== IModule 援ы쁽 =====\r\n\r\n    /**\r\n     * ?꾨젅???낅뜲?댄듃 (?먮룞 吏꾪뻾 泥섎━)\r\n     */\r\n    update(_dt: number): void {\r\n        // ?먮룞 吏꾪뻾 ?먮뒗 ?ㅽ궢 紐⑤뱶 援ы쁽 媛??r\n        // ?꾩옱???몃??먯꽌 advance() ?몄텧濡?泥섎━\r\n    }\r\n\r\n    /**\r\n     * Unity ?명솚 吏곷젹??r\n     */\r\n    serialize(): Record<string, unknown> {\r\n        return serializeForUnity({\r\n            type: this.type,\r\n            id: this.id,\r\n            dialogues: this.data.dialogues,\r\n            currentDialogueId: this.data.currentDialogueId,\r\n            variables: this.data.variables,\r\n            history: this.data.history,\r\n            maxHistoryLength: this.data.maxHistoryLength,\r\n            autoMode: this.data.autoMode,\r\n            skipMode: this.data.skipMode,\r\n        });\r\n    }\r\n\r\n    /**\r\n     * ??쭅?ы솕 (?뺤쟻 ?⑺넗由?\r\n     */\r\n    static deserialize(data: Record<string, unknown>): NarrativeModule {\r\n        return new NarrativeModule(data.Id as string ?? data.id as string, {\r\n            dialogues: (data.Dialogues ?? data.dialogues) as DialogueLine[],\r\n            currentDialogueId: (data.CurrentDialogueId ?? data.currentDialogueId) as string | null,\r\n            variables: (data.Variables ?? data.variables) as Record<string, NarrativeVarValue>,\r\n            history: (data.History ?? data.history) as string[],\r\n            maxHistoryLength: data.MaxHistoryLength as number ?? data.maxHistoryLength as number,\r\n            autoMode: data.AutoMode as boolean ?? data.autoMode as boolean,\r\n            skipMode: data.SkipMode as boolean ?? data.skipMode as boolean,\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 由ъ냼???뺣━\r\n     */\r\n    destroy(): void {\r\n        this.onEvent = undefined;\r\n        this.dialogueMap.clear();\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\core\\modules\\StatusModule.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\core\\modules\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\editorMode\\editorModes.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":241,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":241,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8911,8914],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8911,8914],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":259,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":259,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9468,9471],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9468,9471],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'e' is defined but never used. Allowed unused caught errors must match /^_/u.","line":260,"column":22,"nodeType":null,"messageId":"unusedVar","endLine":260,"endColumn":23},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":303,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":303,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10778,10781],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10778,10781],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":331,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":331,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11779,11782],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11779,11782],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { Asset } from \"../types/Asset\";\r\nimport { EditorScene } from \"../EditorScene\";\r\nimport type { EditorEntity } from \"../types/Entity\";\r\n\r\n\r\n//揶쎛???癒?탵??筌뤴뫀諭??揶쎛????????롫뮉 ??\r\n//筌뤴뫀諭??癒?탵??筌뤴뫀諭띄몴???덉쨮 筌띾슢諭????뮉 ??? ?怨몃꺗獄쏆룇釉??筌띾슢諭??곷튊 ??\r\nexport abstract class EditorMode {\r\n    enter(_scene: Phaser.Scene) { }\r\n    exit(_scene: Phaser.Scene) { }\r\n\r\n    onPointerDown(_scene: Phaser.Scene, _p: Phaser.Input.Pointer) { }\r\n    onPointerMove(_scene: Phaser.Scene, _p: Phaser.Input.Pointer) { }\r\n    onPointerUp(_scene: Phaser.Scene, _p: Phaser.Input.Pointer) { }\r\n    onScroll(_scene: Phaser.Scene, _deltaY: number) { }\r\n    update(_scene: Phaser.Scene, _dt: number) { }\r\n}\r\n//疫꿸퀡???癒?탵??筌뤴뫀諭?r\n//??뺤삋域밸챶? ??됱뱽 ?? ???됯퀗? ??筌욊낯??袁⑥쨯筌???롫뮉 筌뤴뫀諭??\r\n//?怨쀪퐨 揶쎛??疫꿸퀡??怨몄뵥野껉퍓彛??곕떽???됱벉 ??륁㉦???곕떽???곷튊??롢늺 ???툡???곕떽? ??롫즲嚥?\r\nexport class CameraMode extends EditorMode {\r\n    private isDrag: boolean = false;\r\n    private prevX: number = 0;\r\n    private prevY: number = 0;\r\n    onPointerDown(scene: Phaser.Scene, p: Phaser.Input.Pointer): void {\r\n        this.isDrag = true;\r\n        const worldPoint = scene.cameras.main.getWorldPoint(p.x, p.y);\r\n        const x = worldPoint.x;\r\n        const y = worldPoint.y;\r\n        this.prevX = x\r\n        this.prevY = y\r\n    }\r\n    onPointerMove(scene: Phaser.Scene, p: Phaser.Input.Pointer): void {\r\n        if (!this.isDrag)\r\n            return;\r\n\r\n        const worldPoint = scene.cameras.main.getWorldPoint(p.x, p.y);\r\n        const x = (worldPoint.x - this.prevX) / 2;\r\n        const y = (worldPoint.y - this.prevY) / 2;\r\n\r\n        scene.cameras.main.scrollX -= x;\r\n        scene.cameras.main.scrollY -= y;\r\n\r\n        this.prevX = worldPoint.x;\r\n        this.prevY = worldPoint.y;\r\n        //??곕뼊 ??쑴???   \r\n    }\r\n    onPointerUp(_scene: Phaser.Scene, _p: Phaser.Input.Pointer): void {\r\n        this.isDrag = false;\r\n        //??곕뼊 ??쑴?????륁㉦??疫꿸퀡???節뚮선????롢늺 ?節딅┛\r\n        this.prevX = 0;\r\n        this.prevY = 0;\r\n    }\r\n    onScroll(scene: Phaser.Scene, deltaY: number): void {\r\n        const dy = Math.exp(deltaY * -(1 / 1000));\r\n        const zoom = Math.min(Math.max(scene.cameras.main.zoom * dy, 0.1), 10)\r\n        scene.cameras.main.setZoom(zoom)\r\n    }\r\n}\r\n\r\nexport class TilingMode extends EditorMode {\r\n    public curTilingType: string = \"\"\r\n    private isDrag: boolean = false;\r\n    private prevX: number = 0;\r\n    private prevY: number = 0;\r\n    public tile: number = -1;\r\n    private lastX: number = 0.5;\r\n    private lastY: number = 0.5;\r\n    public preview!: Phaser.Tilemaps.TilemapLayer;\r\n    public base!: Phaser.Tilemaps.TilemapLayer;\r\n\r\n    onPointerDown(scene: Phaser.Scene, p: Phaser.Input.Pointer) {\r\n        this.isDrag = true;\r\n        const worldPoint = scene.cameras.main.getWorldPoint(p.x, p.y);\r\n        const es = scene as EditorScene;\r\n        const tilePos = es.worldToTileXY(worldPoint.x, worldPoint.y);\r\n\r\n        this.prevX = worldPoint.x\r\n        this.prevY = worldPoint.y\r\n        if (!tilePos) return;\r\n        const logicalX = tilePos.x - es.tileOffsetX;\r\n        const logicalY = tilePos.y - es.tileOffsetY;\r\n        if (this.curTilingType == \"drawing\") {\r\n            this.base.putTileAt(this.tile, tilePos.x, tilePos.y);\r\n            es.editorCore?.setTile(logicalX, logicalY, this.tile);\r\n        } else if (this.curTilingType == \"erase\") {\r\n            this.base.removeTileAt(tilePos.x, tilePos.y);\r\n            es.editorCore?.removeTile(logicalX, logicalY);\r\n        }\r\n    }\r\n    onPointerMove(scene: Phaser.Scene, p: Phaser.Input.Pointer) {\r\n        const es = scene as EditorScene;\r\n        if (!es.ready)\r\n            return;\r\n        const worldPoint = scene.cameras.main.getWorldPoint(p.x, p.y);\r\n        const tilePos = es.worldToTileXY(worldPoint.x, worldPoint.y);\r\n        if (this.preview) {\r\n            try { this.preview.fill(-1); } catch { /* ignore */ }\r\n        }\r\n        switch (this.curTilingType) {\r\n            case \"\": {\r\n                if (!this.isDrag)\r\n                    return;\r\n                const x = (worldPoint.x - this.prevX) / 2;\r\n                const y = (worldPoint.y - this.prevY) / 2;\r\n\r\n                scene.cameras.main.scrollX -= x;\r\n                scene.cameras.main.scrollY -= y;\r\n\r\n                this.prevX = worldPoint.x;\r\n                this.prevY = worldPoint.y;\r\n                break;\r\n            }\r\n            case \"drawing\":\r\n                if (!tilePos)\r\n                    return;\r\n                if (this.isDrag) {\r\n                    this.lastX = tilePos.x\r\n                    this.lastY = tilePos.y\r\n                    this.base.putTileAt(this.tile, this.lastX, this.lastY);\r\n                    es.editorCore?.setTile(this.lastX - es.tileOffsetX, this.lastY - es.tileOffsetY, this.tile);\r\n                }\r\n                else {\r\n                    if (!Number.isInteger(this.lastX) && !Number.isInteger(this.lastY)) {\r\n                        //珥덇린媛믪꽕?뺥빐二쇨린\r\n                        this.lastX = tilePos.x\r\n                        this.lastY = tilePos.y\r\n                        this.preview.putTileAt(this.tile, this.lastX, this.lastY);\r\n                        return;\r\n                    }\r\n                    //留덉?留됱쥖?쒕? 怨좊젮???댁쟾 ?꾩튂瑜?吏?곌퀬 ?꾩튂瑜??덈줈 留뚮벀.\r\n                    if (this.lastX != tilePos.x || this.lastY != tilePos.y) {\r\n                        this.lastX = tilePos.x\r\n                        this.lastY = tilePos.y\r\n                        this.preview.putTileAt(this.tile, this.lastX, this.lastY);\r\n                    }\r\n                }\r\n                break;\r\n            case \"erase\":\r\n                if (this.isDrag) {\r\n                    if (!tilePos)\r\n                        return;\r\n                    this.lastX = tilePos.x\r\n                    this.lastY = tilePos.y\r\n                    this.base.removeTileAt(this.lastX, this.lastY);\r\n                    es.editorCore?.removeTile(this.lastX - es.tileOffsetX, this.lastY - es.tileOffsetY);\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    onPointerUp(_scene: Phaser.Scene, _p: Phaser.Input.Pointer) {\r\n        this.isDrag = false;\r\n        this.prevX = 0;\r\n        this.prevY = 0;\r\n    }\r\n    onScroll(scene: Phaser.Scene, deltaY: number) {\r\n        const dy = Math.exp(deltaY * -(1 / 1000));\r\n        const zoom = Math.min(Math.max(scene.cameras.main.zoom * dy, 0.1), 10)\r\n        scene.cameras.main.setZoom(zoom)\r\n    }\r\n}\r\n\r\nexport class DragDropMode extends EditorMode {\r\n    public asset: Asset | null = null; // ???紐??癒?퐣 ?袁⑹삺 ??뺤삋域??癒??雅뚯눘??r\n\r\n    private ghost: Phaser.GameObjects.Image | null = null;\r\n\r\n    // enter/exit/update???袁⑹뒄??용뼄 ??됱몵????쑴???\r\n    enter(_scene: Phaser.Scene) { }\r\n    exit(_scene: Phaser.Scene) {\r\n        if (this.ghost) {\r\n            this.ghost.destroy();\r\n            this.ghost = null;\r\n        }\r\n    }\r\n    update(_scene: Phaser.Scene, _dt: number) { }\r\n\r\n    onPointerDown(_scene: Phaser.Scene, _p: Phaser.Input.Pointer) {\r\n        // ?대끃????????곸벉. (?癒곕릭筌???由??ghost??沃섎챶??筌띾슢諭???롫즲 ??됱벉)\r\n    }\r\n\r\n    onPointerMove(scene: Phaser.Scene, p: Phaser.Input.Pointer) {\r\n        if (!this.asset) return;\r\n\r\n        const key = this.asset.name;\r\n        if (!scene.textures.exists(key)) return;\r\n\r\n        const wp = scene.cameras.main.getWorldPoint(p.x, p.y);\r\n\r\n        // ghost ??곸몵筌???밴쉐\r\n        if (!this.ghost) {\r\n            this.ghost = scene.add.image(wp.x, wp.y, key);\r\n            this.ghost.setAlpha(0.6);\r\n            this.ghost.setDepth(9999);\r\n            this.ghost.setOrigin(0.5, 0.5);\r\n        } else {\r\n            // ??됱몵筌??袁⑺뒄筌?揶쏄퉮??r\n            this.ghost.setPosition(wp.x, wp.y);\r\n        }\r\n    }\r\n\r\n    onPointerUp(scene: Phaser.Scene, p: Phaser.Input.Pointer) {\r\n        const es = scene as EditorScene;\r\n        const finalizeDrop = () => {\r\n            if (this.ghost) {\r\n                this.ghost.destroy();\r\n                this.ghost = null;\r\n            }\r\n            this.asset = null;\r\n            es.setCameraMode();\r\n            es.editorCore?.setDraggedAsset(null);\r\n            // sync core + FSM so React UI switches to CameraMode\r\n            es.editorCore?.sendContextToEditorModeStateMachine({ currentMode: new CameraMode(), mouse: \"mouseup\" });\r\n        };\r\n\r\n        if (!this.asset) {\r\n            finalizeDrop();\r\n            return;\r\n        }\r\n\r\n        const key = this.asset.name;\r\n        if (!scene.textures.exists(key)) {\r\n            finalizeDrop();\r\n            return;\r\n        }\r\n\r\n        const wp = scene.cameras.main.getWorldPoint(p.x, p.y);\r\n\r\n        // ????쇱젫 ??밴쉐\r\n        const created = scene.add.image(wp.x, wp.y, key);\r\n        created.setDepth(10);\r\n        created.setOrigin(0.5, 0.5);\r\n        created.setInteractive();\r\n        created.setData(\"id\", crypto.randomUUID());\r\n        // (?醫뤾문) EditorScene??entityGroups 揶쏆늿? ?뚢뫂???瑗ュ첎? ??됱몵筌?椰꾧퀗由???節딅┛\r\n        const entity: EditorEntity = {\r\n\r\n            id: created.getData(\"id\"),\r\n            type: this.asset!.tag as any,\r\n            name: this.asset!.name,\r\n            x: created.x,\r\n            y: created.y,\r\n            z: 0,\r\n            variables: [],\r\n            events: [],\r\n            components: [],\r\n            rules: [],\r\n            modules: [],\r\n        };\r\n\r\n        // Notify React side immediately about the created entity so Hierarchy updates\r\n        es.onSelectEntity?.(entity);\r\n\r\n        created.on(\"pointerdown\", () => {\r\n            // On click, just set selection in core if available (do not re-add)\r\n            try {\r\n                (es as any).editorCore?.setSelectedEntity?.(entity);\r\n            } catch (e) {\r\n                // ignore\r\n            }\r\n        });\r\n        if (es.entityGroup) es.entityGroup.add(created);\r\n\r\n        finalizeDrop();\r\n    }\r\n\r\n    onScroll(_scene: Phaser.Scene, _deltaY: number) {\r\n        // ??뺤삋域???뺤뿻筌???椰꾧퀡????쎄쾿嚥??얜똻??r\n    }\r\n}\r\n\r\nexport class EntityEditMode implements EditorMode {\r\n    private dragging = false;\r\n    private selected: Phaser.GameObjects.GameObject | null = null;\r\n\r\n    private offsetX = 0;\r\n    private offsetY = 0;\r\n\r\n    private snapToGrid = true;\r\n    enter(_scene: Phaser.Scene): void { }\r\n    exit(_scene: Phaser.Scene): void { }\r\n    update(_scene: Phaser.Scene, _dt: number): void { }\r\n    onPointerDown(scene: EditorScene, p: Phaser.Input.Pointer): void {\r\n        const world = scene.cameras.main.getWorldPoint(p.x, p.y);\r\n\r\n        const target = this.pickEntity(scene, world.x, world.y);\r\n        if (!target) {\r\n            this.selected = null;\r\n            this.dragging = false;\r\n            return;\r\n        }\r\n\r\n        this.selected = target;\r\n        this.dragging = true;\r\n\r\n        const pos = this.getXY(target);\r\n        this.offsetX = world.x - pos.x;\r\n        this.offsetY = world.y - pos.y;\r\n\r\n        // ?쒕옒洹??쒖옉 ?쒖젏???좏깮???뷀떚?곕? 利됱떆 ?몄뒪?숉꽣???쒖떆\r\n        const id = (target as any).getData?.(\"id\");\r\n        if (id && scene.editorCore) {\r\n            const entity = scene.editorCore.getEntities().get(id);\r\n            if (entity) {\r\n                scene.editorCore.setSelectedEntity(entity);\r\n            }\r\n        }\r\n    }\r\n\r\n    onPointerMove(scene: EditorScene, p: Phaser.Input.Pointer): void {\r\n        if (!this.dragging || !this.selected) return;\r\n\r\n        const world = scene.cameras.main.getWorldPoint(p.x, p.y);\r\n        this.setXY(this.selected, world.x - this.offsetX, world.y - this.offsetY);\r\n    }\r\n\r\n    onPointerUp(scene: EditorScene, __p: Phaser.Input.Pointer): void {\r\n        if (!this.selected) return;\r\n\r\n        if (this.dragging && this.snapToGrid) {\r\n            const pos = this.getXY(this.selected);\r\n            const snapped = this.snapCenterToGrid(pos.x, pos.y, 32);\r\n            this.setXY(this.selected, snapped.x, snapped.y);\r\n        }\r\n\r\n        this.dragging = false;\r\n\r\n        // Sync to EditorCore\r\n        const id = (this.selected as any).getData?.(\"id\");\r\n        if (id && scene.editorCore) {\r\n            const entity = scene.editorCore.getEntities().get(id);\r\n            if (entity) {\r\n                // Update specific properties (position)\r\n                const transform = this.selected as Phaser.GameObjects.GameObject & Phaser.GameObjects.Components.Transform;\r\n                entity.x = transform.x ?? entity.x;\r\n                entity.y = transform.y ?? entity.y;\r\n\r\n                // Commit back to core\r\n                scene.editorCore.addEntity(entity);\r\n                scene.editorCore.setSelectedEntity(entity);\r\n            }\r\n        }\r\n    }\r\n\r\n    onScroll(_scene: EditorScene, _deltaY: number): void {\r\n        // ?酉???筌뤴뫀諭?癒?퐣????쎄쾿嚥▲끉??筌띾맦????좎몵筌?域밸챶源?return\r\n        // 燁삳?李??餓λ슢猷?揶쏆늿????됱뒠??랁???좎몵筌???由??燁삳?李??餓?嚥≪뮇彛??紐꾪뀱\r\n    }\r\n\r\n    // --------- util ---------\r\n\r\n    private pickEntity(scene: EditorScene, x: number, y: number): Phaser.GameObjects.GameObject | null {\r\n        const entities = scene.entityGroup.getChildren() as Phaser.GameObjects.GameObject[];\r\n        if (!entities.length) return null;\r\n\r\n        let best: Phaser.GameObjects.GameObject | null = null;\r\n        let bestDepth = -Infinity;\r\n\r\n        type GameObjectWithBounds = Phaser.GameObjects.GameObject & {\r\n            visible?: boolean;\r\n            getBounds?: () => Phaser.Geom.Rectangle;\r\n            depth?: number;\r\n            width?: number;\r\n            height?: number;\r\n            x?: number;\r\n            y?: number;\r\n        };\r\n\r\n        for (const obj of entities) {\r\n            const gameObj = obj as GameObjectWithBounds;\r\n            if (!obj.active || gameObj.visible === false) continue;\r\n\r\n            const bounds: Phaser.Geom.Rectangle | null =\r\n                typeof gameObj.getBounds === \"function\"\r\n                    ? gameObj.getBounds()\r\n                    : (gameObj.width != null && gameObj.height != null && gameObj.x != null && gameObj.y != null)\r\n                        ? new Phaser.Geom.Rectangle(gameObj.x - gameObj.width * 0.5, gameObj.y - gameObj.height * 0.5, gameObj.width, gameObj.height)\r\n                        : null;\r\n\r\n            if (!bounds) continue;\r\n\r\n            if (bounds.contains(x, y)) {\r\n                const d = gameObj.depth ?? 0;\r\n                if (d >= bestDepth) {\r\n                    bestDepth = d;\r\n                    best = obj;\r\n                }\r\n            }\r\n        }\r\n        return best;\r\n    }\r\n\r\n    private getXY(obj: Phaser.GameObjects.GameObject): { x: number; y: number } {\r\n        const transform = obj as Phaser.GameObjects.GameObject & Phaser.GameObjects.Components.Transform;\r\n        return { x: transform.x ?? 0, y: transform.y ?? 0 };\r\n    }\r\n\r\n    private setXY(obj: Phaser.GameObjects.GameObject, x: number, y: number): void {\r\n        const transform = obj as Phaser.GameObjects.GameObject & Phaser.GameObjects.Components.Transform;\r\n        transform.x = x;\r\n        transform.y = y;\r\n    }\r\n\r\n    private snapCenterToGrid(x: number, y: number, grid: number) {\r\n        const sx = Math.floor(x / grid) * grid + grid / 2;\r\n        const sy = Math.floor(y / grid) * grid + grid / 2;\r\n        return { x: sx, y: sy };\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\inspector\\ComponentSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\inspector\\EventSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\inspector\\InspectorPanel.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\user\\UniForgeFrontend\\src\\editor\\inspector\\InspectorPanel.tsx:21:7\n  19 |   useEffect(() => {\n  20 |     if (entity) {\n> 21 |       setLocalEntity({ ...entity });\n     |       ^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  22 |     } else {\n  23 |       setLocalEntity(null);\n  24 |     }","line":21,"column":7,"nodeType":null,"endLine":21,"endColumn":21}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from \"react\";\r\nimport { PresetManager } from \"../presets/PresetManager\";\r\nimport type { EditorEntity } from \"../types/Entity\";\r\nimport { colors } from \"../constants/colors\";\r\nimport { ComponentSection } from \"./ComponentSection\";\r\nimport { ModuleSection } from \"./ModuleSection\";\r\n\r\n// TransformEditor媛 ?놁쑝誘濡?媛꾨떒???レ옄 ?낅젰 ?꾨뱶濡??泥댄븯嫄곕굹 ?앸왂.\r\n// ?ш린?쒕뒗 湲곕낯 Transform UI瑜?吏곸젒 援ы쁽?⑸땲??\r\n\r\ntype Props = {\r\n  entity: EditorEntity | null;\r\n  onUpdateEntity: (entity: EditorEntity) => void;\r\n};\r\n\r\nexport function InspectorPanel({ entity, onUpdateEntity }: Props) {\r\n  const [localEntity, setLocalEntity] = useState<EditorEntity | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (entity) {\r\n      setLocalEntity({ ...entity });\r\n    } else {\r\n      setLocalEntity(null);\r\n    }\r\n  }, [entity]);\r\n\r\n  if (!localEntity) {\r\n    return (\r\n      <div style={{\r\n        padding: '24px 16px',\r\n        textAlign: 'center',\r\n        color: colors.textSecondary,\r\n        fontSize: '13px',\r\n      }}>\r\n        ?ㅻ툕?앺듃瑜??좏깮?댁＜?몄슂\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const handleUpdate = (updated: EditorEntity) => {\r\n    setLocalEntity(updated);\r\n    onUpdateEntity(updated);\r\n  };\r\n\r\n  const handlePresetChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n    const presetId = e.target.value;\r\n    if (!presetId) return;\r\n\r\n    const updatedEntity = PresetManager.applyPreset(localEntity, presetId);\r\n    handleUpdate(updatedEntity);\r\n  };\r\n\r\n  const updateTransform = (key: 'x' | 'y' | 'z', value: number) => {\r\n    const updated = { ...localEntity, [key]: value };\r\n    handleUpdate(updated);\r\n  };\r\n\r\n  const sectionStyle = {\r\n    padding: '16px',\r\n    borderBottom: `1px solid ${colors.borderColor}`,\r\n  };\r\n\r\n  const titleStyle = {\r\n    margin: '0 0 12px 0',\r\n    color: '#ddd',\r\n    fontSize: '14px',\r\n    fontWeight: 600,\r\n  };\r\n\r\n  const inputStyle = {\r\n    background: '#1e1e1e',\r\n    border: '1px solid #3e3e3e',\r\n    color: '#fff',\r\n    padding: '4px 8px',\r\n    borderRadius: '4px',\r\n    width: '60px',\r\n    fontSize: '12px'\r\n  };\r\n\r\n  const labelStyle = {\r\n    color: '#aaa',\r\n    fontSize: '12px',\r\n    marginRight: '8px',\r\n    width: '15px'\r\n  };\r\n\r\n  const rowStyle = {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    marginBottom: '8px'\r\n  };\r\n\r\n  return (\r\n    <div style={{\r\n      width: '300px',\r\n      background: '#2d2d2d',\r\n      borderLeft: '1px solid #3e3e3e',\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      height: '100%',\r\n      overflowY: 'auto'\r\n    }}>\r\n\r\n      {/* Role (Preset) Section */}\r\n      <div style={sectionStyle}>\r\n        <div style={titleStyle}>Role (Preset)</div>\r\n        <select\r\n          style={{\r\n            width: '100%',\r\n            padding: '8px',\r\n            background: '#1e1e1e',\r\n            border: '1px solid #3e3e3e',\r\n            color: '#fff',\r\n            borderRadius: '4px'\r\n          }}\r\n          onChange={handlePresetChange}\r\n          defaultValue=\"\"\r\n        >\r\n          <option value=\"\" disabled>Select Role...</option>\r\n          {PresetManager.getAvailablePresets().map(preset => (\r\n            <option key={preset.id} value={preset.id}>\r\n              {preset.label}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      {/* Transform Section */}\r\n      <div style={sectionStyle}>\r\n        <div style={titleStyle}>Transform</div>\r\n        <div style={rowStyle}>\r\n          <span style={labelStyle}>X</span>\r\n          <input\r\n            type=\"number\"\r\n            style={inputStyle}\r\n            value={localEntity.x}\r\n            onChange={(e) => updateTransform('x', parseFloat(e.target.value))}\r\n          />\r\n        </div>\r\n        <div style={rowStyle}>\r\n          <span style={labelStyle}>Y</span>\r\n          <input\r\n            type=\"number\"\r\n            style={inputStyle}\r\n            value={localEntity.y}\r\n            onChange={(e) => updateTransform('y', parseFloat(e.target.value))}\r\n          />\r\n        </div>\r\n        <div style={rowStyle}>\r\n          <span style={labelStyle}>Z</span>\r\n          <input\r\n            type=\"number\"\r\n            style={inputStyle}\r\n            value={localEntity.z}\r\n            onChange={(e) => updateTransform('z', parseFloat(e.target.value))}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Module Section */}\r\n      <ModuleSection\r\n        entity={localEntity}\r\n        onUpdateEntity={handleUpdate}\r\n      />\r\n\r\n      {/* Visual Component Section */}\r\n      <ComponentSection\r\n        entity={localEntity}\r\n        onUpdateEntity={handleUpdate}\r\n      />\r\n\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\inspector\\InspectorScroll.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\inspector\\ModuleSection.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":171,"column":84,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":171,"endColumn":87,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6885,6888],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6885,6888],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":205,"column":93,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":205,"endColumn":96,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9041,9044],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9041,9044],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { memo } from \"react\";\r\nimport type {\r\n    EditorModule,\r\n    ModuleType,\r\n    StatusModuleData,\r\n    KineticModuleData,\r\n    CombatModuleData,\r\n} from \"../types/Module\";\r\nimport { ModuleDefaults } from \"../types/Module\";\r\nimport { colors } from \"../constants/colors\";\r\n\r\nimport type { EditorEntity } from \"../types/Entity\"; // Import 異붽?\r\n\r\ntype Props = {\r\n    entity: EditorEntity;\r\n    onUpdateEntity: (entity: EditorEntity) => void;\r\n};\r\n\r\nexport const ModuleSection = memo(function ModuleSection({ entity, onUpdateEntity }: Props) {\r\n    const modules = entity.modules || [];\r\n\r\n    const onAdd = (mod: EditorModule) => {\r\n        onUpdateEntity({ ...entity, modules: [...modules, mod] });\r\n    };\r\n\r\n    const onUpdate = (mod: EditorModule) => {\r\n        onUpdateEntity({ ...entity, modules: modules.map(m => m.id === mod.id ? mod : m) });\r\n    };\r\n\r\n    const onRemove = (id: string) => {\r\n        onUpdateEntity({ ...entity, modules: modules.filter(m => m.id !== id) });\r\n    };\r\n\r\n    const handleAdd = (type: ModuleType) => {\r\n        const def = ModuleDefaults[type];\r\n        onAdd({ ...def, id: crypto.randomUUID() } as EditorModule);\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: \"12px 0\", borderTop: `1px solid ${colors.borderColor}` }}>\r\n            <div style={{\r\n                display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\", marginBottom: \"8px\"\r\n            }}>\r\n                <div style={{\r\n                    fontSize: '11px', fontWeight: 600, color: colors.accentLight,\r\n                    textTransform: 'uppercase', letterSpacing: '0.5px'\r\n                }}>\r\n                    Modules\r\n                </div>\r\n                <select\r\n                    style={{\r\n                        background: colors.bgTertiary, color: colors.textPrimary,\r\n                        border: `1px solid ${colors.borderColor}`,\r\n                        borderRadius: \"4px\", fontSize: \"11px\", padding: \"2px 4px\", outline: \"none\"\r\n                    }}\r\n                    value=\"\"\r\n                    onChange={(e) => {\r\n                        if (e.target.value) handleAdd(e.target.value as ModuleType);\r\n                    }}\r\n                >\r\n                    <option value=\"\">+ Add</option>\r\n                    <option value=\"Status\">Status (HP/MP)</option>\r\n                    <option value=\"Kinetic\">Kinetic (?대룞)</option>\r\n                    <option value=\"Narrative\">Narrative (???</option>\r\n                    <option value=\"Combat\">Combat (?꾪닾)</option>\r\n                </select>\r\n            </div>\r\n\r\n            <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"8px\" }}>\r\n                {modules.map((mod) => (\r\n                    <ModuleItem\r\n                        key={mod.id}\r\n                        module={mod}\r\n                        onUpdate={onUpdate}\r\n                        onRemove={onRemove}\r\n                    />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\nconst ModuleItem = memo(function ModuleItem({\r\n    module, onUpdate, onRemove\r\n}: {\r\n    module: EditorModule;\r\n    onUpdate: (m: EditorModule) => void;\r\n    onRemove: (id: string) => void;\r\n}) {\r\n    const typeLabels: Record<ModuleType, string> = {\r\n        Status: \"?뱤 Status\",\r\n        Kinetic: \"?룂 Kinetic\",\r\n        Narrative: \"?뮠 Narrative\",\r\n        Combat: \"?뷂툘 Combat\",\r\n    };\r\n\r\n    return (\r\n        <div style={{\r\n            background: \"rgba(255,255,255,0.03)\",\r\n            border: `1px solid ${colors.borderColor}`,\r\n            borderRadius: \"6px\",\r\n            padding: \"8px\"\r\n        }}>\r\n            <div style={{\r\n                display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: \"8px\"\r\n            }}>\r\n                <span style={{ fontSize: \"12px\", fontWeight: 600, color: colors.textPrimary }}>\r\n                    {typeLabels[module.type]}\r\n                </span>\r\n                <button\r\n                    onClick={() => onRemove(module.id)}\r\n                    style={{\r\n                        background: \"transparent\", border: \"none\", color: \"#da3633\",\r\n                        cursor: \"pointer\", fontSize: \"10px\"\r\n                    }}\r\n                >\r\n                    Remove\r\n                </button>\r\n            </div>\r\n\r\n            {module.type === \"Status\" && (\r\n                <StatusEditor module={module as StatusModuleData} onUpdate={onUpdate} />\r\n            )}\r\n\r\n            {module.type === \"Kinetic\" && (\r\n                <KineticEditor module={module as KineticModuleData} onUpdate={onUpdate} />\r\n            )}\r\n\r\n            {module.type === \"Combat\" && (\r\n                <CombatEditor module={module as CombatModuleData} onUpdate={onUpdate} />\r\n            )}\r\n\r\n            {module.type === \"Narrative\" && (\r\n                <div style={{ fontSize: \"11px\", color: colors.textSecondary }}>\r\n                    ????몄쭛? 蹂꾨룄 ?먮뵒?곗뿉??媛?ν빀?덈떎\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n});\r\n\r\n// ===== 紐⑤뱢蹂??먮뵒??=====\r\n\r\nfunction StatusEditor({ module, onUpdate }: { module: StatusModuleData, onUpdate: (m: EditorModule) => void }) {\r\n    return (\r\n        <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"4px\" }}>\r\n            <div style={{ display: \"flex\", gap: \"8px\" }}>\r\n                <NumberField label=\"HP\" value={module.hp} onChange={(v) => onUpdate({ ...module, hp: v })} />\r\n                <NumberField label=\"Max\" value={module.maxHp} onChange={(v) => onUpdate({ ...module, maxHp: v })} />\r\n            </div>\r\n            <div style={{ display: \"flex\", gap: \"8px\" }}>\r\n                <NumberField label=\"MP\" value={module.mp} onChange={(v) => onUpdate({ ...module, mp: v })} />\r\n                <NumberField label=\"Max\" value={module.maxMp} onChange={(v) => onUpdate({ ...module, maxMp: v })} />\r\n            </div>\r\n            <div style={{ display: \"flex\", gap: \"8px\" }}>\r\n                <NumberField label=\"ATK\" value={module.attack} onChange={(v) => onUpdate({ ...module, attack: v })} />\r\n                <NumberField label=\"DEF\" value={module.defense} onChange={(v) => onUpdate({ ...module, defense: v })} />\r\n            </div>\r\n            <NumberField label=\"Speed\" value={module.speed} onChange={(v) => onUpdate({ ...module, speed: v })} />\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction KineticEditor({ module, onUpdate }: { module: KineticModuleData, onUpdate: (m: EditorModule) => void }) {\r\n    return (\r\n        <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"4px\" }}>\r\n            <div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\" }}>\r\n                <span style={{ fontSize: \"11px\", color: colors.textSecondary }}>Mode</span>\r\n                <select\r\n                    value={module.mode}\r\n                    onChange={(e) => onUpdate({ ...module, mode: e.target.value as any })}\r\n                    style={{\r\n                        background: colors.bgTertiary, color: colors.textPrimary,\r\n                        border: `1px solid ${colors.borderColor}`,\r\n                        borderRadius: \"4px\", fontSize: \"11px\", padding: \"2px 4px\"\r\n                    }}\r\n                >\r\n                    <option value=\"TopDown\">TopDown</option>\r\n                    <option value=\"Platformer\">Platformer</option>\r\n                    <option value=\"Path\">Path</option>\r\n                </select>\r\n            </div>\r\n            <NumberField label=\"MaxSpeed\" value={module.maxSpeed} onChange={(v) => onUpdate({ ...module, maxSpeed: v })} />\r\n            <NumberField label=\"Friction\" value={module.friction} onChange={(v) => onUpdate({ ...module, friction: v })} />\r\n            {module.mode === \"Platformer\" && (\r\n                <>\r\n                    <NumberField label=\"Gravity\" value={module.gravity} onChange={(v) => onUpdate({ ...module, gravity: v })} />\r\n                    <NumberField label=\"JumpForce\" value={module.jumpForce} onChange={(v) => onUpdate({ ...module, jumpForce: v })} />\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction CombatEditor({ module, onUpdate }: { module: CombatModuleData, onUpdate: (m: EditorModule) => void }) {\r\n    return (\r\n        <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"4px\" }}>\r\n            <NumberField label=\"Range\" value={module.attackRange} onChange={(v) => onUpdate({ ...module, attackRange: v })} />\r\n            <NumberField label=\"Interval\" value={module.attackInterval} onChange={(v) => onUpdate({ ...module, attackInterval: v })} />\r\n            <NumberField label=\"Damage\" value={module.damage} onChange={(v) => onUpdate({ ...module, damage: v })} />\r\n            <div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\" }}>\r\n                <span style={{ fontSize: \"11px\", color: colors.textSecondary }}>Pattern</span>\r\n                <select\r\n                    value={module.bulletPattern}\r\n                    onChange={(e) => onUpdate({ ...module, bulletPattern: e.target.value as any })}\r\n                    style={{\r\n                        background: colors.bgTertiary, color: colors.textPrimary,\r\n                        border: `1px solid ${colors.borderColor}`,\r\n                        borderRadius: \"4px\", fontSize: \"11px\", padding: \"2px 4px\"\r\n                    }}\r\n                >\r\n                    <option value=\"Single\">Single</option>\r\n                    <option value=\"Spread\">Spread</option>\r\n                    <option value=\"Circle\">Circle</option>\r\n                    <option value=\"Spiral\">Spiral</option>\r\n                    <option value=\"Aimed\">Aimed</option>\r\n                </select>\r\n            </div>\r\n            {(module.bulletPattern === \"Spread\" || module.bulletPattern === \"Circle\") && (\r\n                <NumberField label=\"BulletCount\" value={module.bulletCount} onChange={(v) => onUpdate({ ...module, bulletCount: v })} />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\n// ===== 怨듯넻 ?꾨뱶 而댄룷?뚰듃 =====\r\n\r\nfunction NumberField({ label, value, onChange }: { label: string, value: number, onChange: (v: number) => void }) {\r\n    return (\r\n        <div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\", flex: 1 }}>\r\n            <span style={{ fontSize: \"11px\", color: colors.textSecondary }}>{label}</span>\r\n            <input\r\n                type=\"number\"\r\n                value={value}\r\n                step={label === \"Friction\" ? 0.1 : 1}\r\n                onChange={(e) => onChange(parseFloat(e.target.value) || 0)}\r\n                style={{\r\n                    width: \"50px\",\r\n                    background: colors.bgPrimary,\r\n                    border: `1px solid ${colors.borderColor}`,\r\n                    color: colors.textPrimary,\r\n                    borderRadius: \"4px\",\r\n                    fontSize: \"11px\",\r\n                    padding: \"2px 4px\"\r\n                }}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\inspector\\VariableSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\presets\\DefaultPresets.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\presets\\PresetManager.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\presets\\PresetTypes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\renderer\\IRenderer.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\renderer\\PhaserRenderer.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":51,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":51,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2024,2027],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2024,2027],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import Phaser from \"phaser\";\r\nimport type { IRenderer, Vector3, ScreenCoord, SpawnOptions } from \"./IRenderer\";\r\n// EAC ?쒖뒪??import\r\nimport { EventBus, RuleEngine } from \"../core/events\";\r\nimport { KeyboardAdapter } from \"../core/events/adapters/KeyboardAdapter\";\r\nimport { editorCore } from \"../EditorCore\";\r\n// 臾쇰━ ?붿쭊 (?붿쭊 ?낅┰??\r\nimport { runtimePhysics, type InputState } from \"../core/RuntimePhysics\";\r\n\r\n/**\r\n * Phaser ???대? ?대옒??r\n * PhaserRenderer媛 愿由ы븯???ㅼ젣 ??r\n */\r\nclass PhaserRenderScene extends Phaser.Scene {\r\n    public phaserRenderer!: PhaserRenderer;\r\n    private _keyboardAdapter!: KeyboardAdapter;\r\n\r\n    // RPG ?ㅽ????대룞???꾪븳 ???곹깭\r\n    private cursors!: Phaser.Types.Input.Keyboard.CursorKeys;\r\n    private wasd!: { W: Phaser.Input.Keyboard.Key; A: Phaser.Input.Keyboard.Key; S: Phaser.Input.Keyboard.Key; D: Phaser.Input.Keyboard.Key };\r\n    private spaceKey!: Phaser.Input.Keyboard.Key;\r\n\r\n    constructor() {\r\n        super(\"PhaserRenderScene\");\r\n    }\r\n\r\n    create() {\r\n        console.log(\"[PhaserRenderScene] create() called\");\r\n\r\n        // RPG ?대룞?????앹꽦\r\n        if (this.input.keyboard) {\r\n            this.cursors = this.input.keyboard.createCursorKeys();\r\n            this.wasd = {\r\n                W: this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.W),\r\n                A: this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.A),\r\n                S: this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.S),\r\n                D: this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.D),\r\n            };\r\n            // ?ㅽ럹?댁뒪諛?蹂꾨룄 ?앹꽦 (JustDown ?명솚??\r\n            this.spaceKey = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE);\r\n        }\r\n\r\n        // EAC ?쒖뒪??珥덇린??(?대깽??湲곕컲 ?≪뀡??\r\n        this._keyboardAdapter = new KeyboardAdapter(this);\r\n\r\n        // EventBus??由ъ뒪???깅줉\r\n        EventBus.on((event) => {\r\n            editorCore.getEntities().forEach((entity) => {\r\n                if (!entity.rules || entity.rules.length === 0) return;\r\n\r\n                const moduleMap: any = {};\r\n                if (entity.modules) {\r\n                    entity.modules.forEach(m => {\r\n                        moduleMap[m.type] = m;\r\n                    });\r\n                }\r\n\r\n                const ctx = {\r\n                    entityId: entity.id,\r\n                    modules: moduleMap,\r\n                    eventData: event.data || {},\r\n                    globals: {\r\n                        scene: this,\r\n                        renderer: this.phaserRenderer\r\n                    }\r\n                };\r\n\r\n                RuleEngine.handleEvent(event, ctx, entity.rules);\r\n            });\r\n        });\r\n\r\n        console.log(\"[PhaserRenderScene] EAC System initialized with RPG movement\");\r\n\r\n        // ??以鍮??꾨즺 ?뚮┝\r\n        this.phaserRenderer.onSceneReady();\r\n    }\r\n\r\n    // 臾쇰━ ?곹깭??RuntimePhysics?먯꽌 愿由щ맖\r\n\r\n    update(time: number, delta: number) {\r\n        // 遺紐??낅뜲?댄듃 ?몄텧\r\n        this.phaserRenderer.onUpdate(time, delta);\r\n\r\n        // ?ㅻ낫?쒓? 珥덇린?붾릺吏 ?딆븯?쇰㈃ ?ㅽ궢\r\n        if (!this.cursors || !this.wasd) return;\r\n\r\n        const dt = delta / 1000; // 珥??⑥쐞\r\n\r\n        // ?낅젰 ?곹깭 ?섏쭛 (?붿쭊 ?낅┰??\r\n        const input: InputState = {\r\n            left: this.cursors.left.isDown || this.wasd.A.isDown,\r\n            right: this.cursors.right.isDown || this.wasd.D.isDown,\r\n            up: this.cursors.up.isDown || this.wasd.W.isDown,\r\n            down: this.cursors.down.isDown || this.wasd.S.isDown,\r\n            jump: (this.spaceKey?.isDown === true) ||\r\n                (this.cursors?.up?.isDown === true) ||\r\n                (this.wasd?.W?.isDown === true)\r\n        };\r\n        this.phaserRenderer.onInputState?.(input);\r\n\r\n        if (!this.phaserRenderer.useEditorCoreRuntimePhysics) {\r\n            return;\r\n        }\r\n\r\n        // Kinetic 紐⑤뱢??媛吏??뷀떚?곕쭔 ?낅뜲?댄듃\r\n        editorCore.getEntities().forEach((entity) => {\r\n            // Kinetic 紐⑤뱢???놁쑝硫??ㅽ궢\r\n            const hasKinetic = entity.modules?.some(m => m.type === \"Kinetic\");\r\n            if (!hasKinetic) return;\r\n\r\n            const gameObject = this.phaserRenderer.getGameObject(entity.id) as Phaser.GameObjects.Rectangle | Phaser.GameObjects.Sprite | null;\r\n            if (!gameObject) return;\r\n\r\n            // RuntimePhysics濡?臾쇰━ 怨꾩궛 (?붿쭊 ?낅┰??\r\n            const result = runtimePhysics.updateEntity(entity, dt, input);\r\n\r\n            // 寃곌낵瑜?寃뚯엫 ?ㅻ툕?앺듃???곸슜\r\n            gameObject.x = result.x;\r\n            gameObject.y = result.y;\r\n\r\n            // EditorCore ?뷀떚???곗씠???숆린??r\n            entity.x = result.x;\r\n            entity.y = result.y;\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Phaser ?뚮뜑??援ы쁽泥?r\n * \r\n * ?ㅺ퀎 ?먯튃:\r\n * 1. ID ?숆린?? spawn ???몃? ID瑜?洹몃?濡??ъ슜, 以묐났 寃???꾩닔\r\n * 2. 醫뚰몴 蹂?? Phaser??醫뚯긽??湲곗? 醫뚰몴怨??ъ슜\r\n * 3. Lifecycle: destroy ??紐⑤뱺 由ъ냼???꾨꼍 ?댁젣\r\n */\r\nexport class PhaserRenderer implements IRenderer {\r\n    private game: Phaser.Game | null = null;\r\n    private scene: PhaserRenderScene | null = null;\r\n    private _container: HTMLElement | null = null;\r\n\r\n    // ===== ?뷀떚??愿由?- ID ?숆린??蹂댁옣 =====\r\n    private entities: Map<string, Phaser.GameObjects.GameObject> = new Map();\r\n\r\n    // ===== ??쇰㏊ 愿??=====\r\n    private map: Phaser.Tilemaps.Tilemap | null = null;\r\n    private tileset: Phaser.Tilemaps.Tileset | null = null;\r\n    private baseLayer: Phaser.Tilemaps.TilemapLayer | null = null;\r\n    private previewLayer: Phaser.Tilemaps.TilemapLayer | null = null;\r\n    private tileOffsetX = 0;\r\n    private tileOffsetY = 0;\r\n\r\n    // ===== 洹몃━??=====\r\n    private gridGraphics: Phaser.GameObjects.Graphics | null = null;\r\n    private gridVisible = true;\r\n\r\n    // ===== 珥덇린??肄쒕갚 =====\r\n    private initResolve: (() => void) | null = null;\r\n\r\n    // ===== ?곸닔 =====\r\n    private readonly TILE_SIZE = 32;\r\n    private readonly MAP_SIZE = 200;\r\n\r\n    // ===== Interaction Callbacks =====\r\n    onEntityClick?: (id: string) => void;\r\n    onPointerDown?: (worldX: number, worldY: number, worldZ: number) => void;\r\n    onPointerMove?: (worldX: number, worldY: number, worldZ: number) => void;\r\n    onPointerUp?: (worldX: number, worldY: number, worldZ: number) => void;\r\n    onScroll?: (deltaY: number) => void;\r\n    onUpdateCallback?: (time: number, delta: number) => void;\r\n    onInputState?: (input: InputState) => void;\r\n    useEditorCoreRuntimePhysics = true;\r\n\r\n    // ===== Lifecycle =====\r\n\r\n    async init(container: HTMLElement): Promise<void> {\r\n        this._container = container;\r\n\r\n        const scene = new PhaserRenderScene();\r\n        scene.phaserRenderer = this;\r\n        this.scene = scene;\r\n\r\n        const config: Phaser.Types.Core.GameConfig = {\r\n            type: Phaser.AUTO,\r\n            scale: { mode: Phaser.Scale.RESIZE },\r\n            parent: container,\r\n            scene: [scene],\r\n            audio: { noAudio: true },\r\n        };\r\n\r\n        this.game = new Phaser.Game(config);\r\n\r\n        // ??以鍮??湲?r\n        return new Promise((resolve) => {\r\n            this.initResolve = resolve;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * ??以鍮??꾨즺 ???몄텧 (?대???\r\n     */\r\n    onSceneReady(): void {\r\n        if (!this.scene) return;\r\n\r\n        // 洹몃━??洹몃옒?쎌뒪 珥덇린??r\n        this.gridGraphics = this.scene.add.graphics();\r\n        this.gridGraphics.setDepth(9999);\r\n\r\n        // ?낅젰 ?대깽???ㅼ젙\r\n        this.setupInputEvents();\r\n\r\n        // 珥덇린???꾨즺 ?뚮┝\r\n        if (this.initResolve) {\r\n            this.initResolve();\r\n            this.initResolve = null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * ?낅뜲?댄듃 猷⑦봽 (?대???\r\n     */\r\n    onUpdate(_time: number, _delta: number): void {\r\n        if (this.gridVisible) {\r\n            this.redrawGrid();\r\n        }\r\n        if (this.onUpdateCallback) {\r\n            this.onUpdateCallback(_time, _delta);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * ?뚮뜑???뺣━ - ?꾨꼍??由ъ냼???댁젣\r\n     */\r\n    destroy(): void {\r\n        // 1. 紐⑤뱺 ?뷀떚???뺣━\r\n        for (const [_id, obj] of this.entities) {\r\n            if (obj && obj.active) {\r\n                obj.destroy();\r\n            }\r\n        }\r\n        this.entities.clear();\r\n\r\n        // 2. ??쇰㏊ ?뺣━\r\n        if (this.baseLayer) {\r\n            this.baseLayer.destroy();\r\n            this.baseLayer = null;\r\n        }\r\n        if (this.previewLayer) {\r\n            this.previewLayer.destroy();\r\n            this.previewLayer = null;\r\n        }\r\n        if (this.map) {\r\n            this.map.destroy();\r\n            this.map = null;\r\n        }\r\n        this.tileset = null;\r\n\r\n        // 3. 洹몃━??洹몃옒?쎌뒪 ?뺣━\r\n        if (this.gridGraphics) {\r\n            this.gridGraphics.destroy();\r\n            this.gridGraphics = null;\r\n        }\r\n\r\n        // 4. ??李몄“ ?댁젣\r\n        this.scene = null;\r\n\r\n        // 5. Phaser Game ?몄뒪?댁뒪 ?뺣━\r\n        if (this.game) {\r\n            this.game.destroy(true); // removeCanvas = true\r\n            this.game = null;\r\n        }\r\n\r\n        // 6. 而⑦뀒?대꼫 李몄“ ?댁젣\r\n        this._container = null;\r\n\r\n        // 7. 肄쒕갚 ?댁젣\r\n        this.onEntityClick = undefined;\r\n        this.onPointerDown = undefined;\r\n        this.onPointerMove = undefined;\r\n        this.onPointerUp = undefined;\r\n        this.onScroll = undefined;\r\n\r\n        console.log(\"[PhaserRenderer] Destroyed - all resources cleaned up\");\r\n    }\r\n\r\n    // ===== Entity Management - ID ?숆린??蹂댁옣 =====\r\n\r\n    spawn(id: string, type: string, x: number, y: number, z: number = 0, options?: SpawnOptions): void {\r\n        if (!this.scene || !this.scene.textures) {\r\n            console.error(\"[PhaserRenderer] Cannot spawn: scene not initialized\");\r\n            return;\r\n        }\r\n\r\n        // ID 以묐났 寃??- EditorState????숆린??蹂댁옣\r\n        if (this.entities.has(id)) {\r\n            console.error(`[PhaserRenderer] Entity with id \"${id}\" already exists! ID sync violation.`);\r\n            return;\r\n        }\r\n\r\n        let obj: Phaser.GameObjects.GameObject;\r\n\r\n        // ?띿뒪泥섍? ?덉쑝硫??ㅽ봽?쇱씠?? ?놁쑝硫??ш컖??r\n        if (options?.texture && this.scene.textures.exists(options.texture)) {\r\n            const sprite = this.scene.add.sprite(x, y, options.texture);\r\n            sprite.setDepth(z);\r\n            obj = sprite;\r\n        } else {\r\n            const width = options?.width ?? 40;\r\n            const height = options?.height ?? 40;\r\n            const color = options?.color ?? 0xffffff;\r\n            const rect = this.scene.add.rectangle(x, y, width, height, color);\r\n            rect.setDepth(z);\r\n            obj = rect;\r\n        }\r\n\r\n        // ID ???諛??명꽣?숈뀡 ?ㅼ젙\r\n        obj.setData(\"id\", id);\r\n        obj.setData(\"type\", type);\r\n        (obj as Phaser.GameObjects.Rectangle).setInteractive({ useHandCursor: true });\r\n\r\n        // ?대┃ ?대깽??r\n        obj.on(\"pointerdown\", () => {\r\n            if (this.onEntityClick) {\r\n                this.onEntityClick(id);\r\n            }\r\n        });\r\n\r\n        // Map?????r\n        this.entities.set(id, obj);\r\n\r\n        console.log(`[PhaserRenderer] Spawned entity: ${id} at (${x}, ${y}, ${z})`);\r\n    }\r\n\r\n    hasEntity(id: string): boolean {\r\n        return this.entities.has(id);\r\n    }\r\n\r\n    getAllEntityIds(): string[] {\r\n        return Array.from(this.entities.keys());\r\n    }\r\n\r\n    /**\r\n     * ID濡?寃뚯엫 ?ㅻ툕?앺듃 諛섑솚 (Actions?먯꽌 ?ъ슜)\r\n     */\r\n    getGameObject(id: string): Phaser.GameObjects.GameObject | null {\r\n        return this.entities.get(id) ?? null;\r\n    }\r\n\r\n    update(id: string, x: number, y: number, z?: number, rotation?: number): void {\r\n        const obj = this.entities.get(id);\r\n        if (!obj) {\r\n            console.warn(`[PhaserRenderer] Cannot update: entity \"${id}\" not found`);\r\n            return;\r\n        }\r\n\r\n        const gameObj = obj as Phaser.GameObjects.Rectangle;\r\n        gameObj.setPosition(x, y);\r\n\r\n        if (z !== undefined) {\r\n            gameObj.setDepth(z);\r\n        }\r\n\r\n        if (rotation !== undefined) {\r\n            gameObj.setAngle(rotation);\r\n        }\r\n    }\r\n\r\n    setScale(id: string, scaleX: number, scaleY: number, _scaleZ?: number): void {\r\n        const obj = this.entities.get(id);\r\n        if (!obj) {\r\n            console.warn(`[PhaserRenderer] Cannot set scale: entity \"${id}\" not found`);\r\n            return;\r\n        }\r\n\r\n        const gameObj = obj as Phaser.GameObjects.GameObject & Phaser.GameObjects.Components.Transform;\r\n        if (typeof gameObj.setScale === \"function\") {\r\n            gameObj.setScale(scaleX, scaleY);\r\n        }\r\n    }\r\n\r\n    setAlpha(id: string, alpha: number): void {\r\n        const obj = this.entities.get(id);\r\n        if (!obj) {\r\n            console.warn(`[PhaserRenderer] Cannot set alpha: entity \"${id}\" not found`);\r\n            return;\r\n        }\r\n\r\n        const gameObj = obj as Phaser.GameObjects.GameObject & Phaser.GameObjects.Components.Alpha;\r\n        if (typeof gameObj.setAlpha === \"function\") {\r\n            gameObj.setAlpha(alpha);\r\n        }\r\n    }\r\n\r\n    setTint(id: string, color: number): void {\r\n        const obj = this.entities.get(id);\r\n        if (!obj) {\r\n            console.warn(`[PhaserRenderer] Cannot set tint: entity \"${id}\" not found`);\r\n            return;\r\n        }\r\n\r\n        const gameObj = obj as Phaser.GameObjects.GameObject & Phaser.GameObjects.Components.Tint;\r\n        if (typeof gameObj.setTint === \"function\") {\r\n            gameObj.setTint(color);\r\n        }\r\n    }\r\n\r\n    remove(id: string): void {\r\n        const obj = this.entities.get(id);\r\n        if (obj) {\r\n            obj.destroy();\r\n            this.entities.delete(id);\r\n            console.log(`[PhaserRenderer] Removed entity: ${id}`);\r\n        } else {\r\n            console.warn(`[PhaserRenderer] Cannot remove: entity \"${id}\" not found`);\r\n        }\r\n    }\r\n\r\n    // ===== Animation =====\r\n\r\n    playAnim(id: string, name: string): void {\r\n        const obj = this.entities.get(id);\r\n        if (!obj) {\r\n            console.warn(`[PhaserRenderer] Cannot play anim: entity \"${id}\" not found`);\r\n            return;\r\n        }\r\n\r\n        const sprite = obj as Phaser.GameObjects.Sprite;\r\n        if (sprite.play) {\r\n            sprite.play(name);\r\n        }\r\n    }\r\n\r\n    // ===== Camera =====\r\n\r\n    setCameraPosition(x: number, y: number, _z?: number): void {\r\n        if (!this.scene) return;\r\n        this.scene.cameras.main.centerOn(x, y);\r\n    }\r\n\r\n    setCameraZoom(zoom: number): void {\r\n        if (!this.scene) return;\r\n        this.scene.cameras.main.setZoom(zoom);\r\n    }\r\n\r\n    getCameraPosition(): Vector3 {\r\n        if (!this.scene) return { x: 0, y: 0, z: 0 };\r\n        const cam = this.scene.cameras.main;\r\n        return {\r\n            x: cam.worldView.centerX,\r\n            y: cam.worldView.centerY,\r\n            z: 0,\r\n        };\r\n    }\r\n\r\n    getCameraZoom(): number {\r\n        if (!this.scene) return 1;\r\n        return this.scene.cameras.main.zoom;\r\n    }\r\n\r\n    // ===== Coordinate Transformation =====\r\n\r\n    /**\r\n     * ?붾뱶 醫뚰몴 ???붾㈃ 醫뚰몴 蹂??r\n     * Phaser: 醫뚯긽??湲곗? 醫뚰몴怨?r\n     */\r\n    worldToScreen(x: number, y: number, _z: number = 0): ScreenCoord {\r\n        if (!this.scene) return { x, y };\r\n\r\n        const cam = this.scene.cameras.main;\r\n        const screenX = (x - cam.worldView.x) * cam.zoom;\r\n        const screenY = (y - cam.worldView.y) * cam.zoom;\r\n\r\n        return { x: screenX, y: screenY };\r\n    }\r\n\r\n    /**\r\n     * ?붾㈃ 醫뚰몴 ???붾뱶 醫뚰몴 蹂??r\n     */\r\n    screenToWorld(screenX: number, screenY: number): Vector3 {\r\n        if (!this.scene) return { x: screenX, y: screenY, z: 0 };\r\n\r\n        const cam = this.scene.cameras.main;\r\n        const point = cam.getWorldPoint(screenX, screenY);\r\n\r\n        return { x: point.x, y: point.y, z: 0 };\r\n    }\r\n\r\n    // ===== Tile System =====\r\n\r\n    /**\r\n     * ??쇰㏊ 珥덇린??(?몃??먯꽌 ?몄텧)\r\n     */\r\n    initTilemap(tilesetKey: string): void {\r\n        if (!this.scene) return;\r\n\r\n        this.map = this.scene.make.tilemap({\r\n            tileWidth: this.TILE_SIZE,\r\n            tileHeight: this.TILE_SIZE,\r\n            width: this.MAP_SIZE,\r\n            height: this.MAP_SIZE,\r\n        });\r\n\r\n        this.tileset = this.map.addTilesetImage(\"tiles\", tilesetKey, this.TILE_SIZE, this.TILE_SIZE)!;\r\n\r\n        this.baseLayer = this.map.createBlankLayer(\"base\", this.tileset, 0, 0)!;\r\n        this.previewLayer = this.map.createBlankLayer(\"preview\", this.tileset, 0, 0)!;\r\n\r\n        this.tileOffsetX = Math.floor(this.map.width / 2);\r\n        this.tileOffsetY = Math.floor(this.map.height / 2);\r\n\r\n        const offsetX = -this.tileOffsetX * this.TILE_SIZE;\r\n        const offsetY = -this.tileOffsetY * this.TILE_SIZE;\r\n\r\n        this.baseLayer.setPosition(offsetX, offsetY);\r\n        this.previewLayer.setPosition(offsetX, offsetY);\r\n\r\n        this.baseLayer.setDepth(0);\r\n        this.previewLayer.setDepth(1);\r\n    }\r\n\r\n    setTile(x: number, y: number, tileIndex: number): void {\r\n        if (!this.baseLayer || !this.map) return;\r\n\r\n        const tx = x + this.tileOffsetX;\r\n        const ty = y + this.tileOffsetY;\r\n\r\n        if (tx < 0 || ty < 0 || tx >= this.map.width || ty >= this.map.height) return;\r\n\r\n        this.baseLayer.putTileAt(tileIndex, tx, ty);\r\n    }\r\n\r\n    removeTile(x: number, y: number): void {\r\n        if (!this.baseLayer || !this.map) return;\r\n\r\n        const tx = x + this.tileOffsetX;\r\n        const ty = y + this.tileOffsetY;\r\n\r\n        if (tx < 0 || ty < 0 || tx >= this.map.width || ty >= this.map.height) return;\r\n\r\n        this.baseLayer.putTileAt(-1, tx, ty);\r\n    }\r\n\r\n    setPreviewTile(x: number, y: number, tileIndex: number): void {\r\n        if (!this.previewLayer || !this.map) return;\r\n\r\n        // 湲곗〈 ?꾨━酉??쒓굅\r\n        this.previewLayer.fill(-1);\r\n\r\n        const tx = x + this.tileOffsetX;\r\n        const ty = y + this.tileOffsetY;\r\n\r\n        if (tx < 0 || ty < 0 || tx >= this.map.width || ty >= this.map.height) return;\r\n\r\n        this.previewLayer.putTileAt(tileIndex, tx, ty);\r\n    }\r\n\r\n    clearPreviewTile(): void {\r\n        if (!this.previewLayer) return;\r\n        this.previewLayer.fill(-1);\r\n    }\r\n\r\n    // ===== Grid =====\r\n\r\n    setGridVisible(visible: boolean): void {\r\n        this.gridVisible = visible;\r\n        if (!visible && this.gridGraphics) {\r\n            this.gridGraphics.clear();\r\n        }\r\n    }\r\n\r\n    private redrawGrid(): void {\r\n        if (!this.scene || !this.gridGraphics) return;\r\n\r\n        const cam = this.scene.cameras.main;\r\n        const view = cam.worldView;\r\n\r\n        const left = Math.floor(view.x / this.TILE_SIZE) * this.TILE_SIZE;\r\n        const right = Math.ceil((view.x + view.width) / this.TILE_SIZE) * this.TILE_SIZE;\r\n        const top = Math.floor(view.y / this.TILE_SIZE) * this.TILE_SIZE;\r\n        const bottom = Math.ceil((view.y + view.height) / this.TILE_SIZE) * this.TILE_SIZE;\r\n\r\n        this.gridGraphics.clear();\r\n        this.gridGraphics.lineStyle(1, 0xffffff, 0.15);\r\n\r\n        for (let x = left; x <= right; x += this.TILE_SIZE) {\r\n            this.gridGraphics.beginPath();\r\n            this.gridGraphics.moveTo(x, top);\r\n            this.gridGraphics.lineTo(x, bottom);\r\n            this.gridGraphics.strokePath();\r\n        }\r\n\r\n        for (let y = top; y <= bottom; y += this.TILE_SIZE) {\r\n            this.gridGraphics.beginPath();\r\n            this.gridGraphics.moveTo(left, y);\r\n            this.gridGraphics.lineTo(right, y);\r\n            this.gridGraphics.strokePath();\r\n        }\r\n    }\r\n\r\n    // ===== Input Events =====\r\n\r\n    private setupInputEvents(): void {\r\n        if (!this.scene || !this.game) return;\r\n\r\n        const canvas = this.game.canvas;\r\n        if (!canvas) return;\r\n\r\n        const getWorldPos = (clientX: number, clientY: number): Vector3 | null => {\r\n            if (!canvas) return null;\r\n\r\n            const rect = canvas.getBoundingClientRect();\r\n            const inside = clientX >= rect.left && clientX <= rect.right &&\r\n                clientY >= rect.top && clientY <= rect.bottom;\r\n\r\n            if (!inside) return null;\r\n\r\n            const screenX = (clientX - rect.left) * (canvas.width / rect.width);\r\n            const screenY = (clientY - rect.top) * (canvas.height / rect.height);\r\n\r\n            return this.screenToWorld(screenX, screenY);\r\n        };\r\n\r\n        const onPointerDown = (e: PointerEvent) => {\r\n            const world = getWorldPos(e.clientX, e.clientY);\r\n            if (world && this.onPointerDown) {\r\n                this.onPointerDown(world.x, world.y, world.z);\r\n            }\r\n        };\r\n\r\n        const onPointerMove = (e: PointerEvent) => {\r\n            const world = getWorldPos(e.clientX, e.clientY);\r\n            if (world && this.onPointerMove) {\r\n                this.onPointerMove(world.x, world.y, world.z);\r\n            }\r\n        };\r\n\r\n        const onPointerUp = (e: PointerEvent) => {\r\n            const world = getWorldPos(e.clientX, e.clientY);\r\n            if (world && this.onPointerUp) {\r\n                this.onPointerUp(world.x, world.y, world.z);\r\n            }\r\n        };\r\n\r\n        const onWheel = (e: WheelEvent) => {\r\n            const world = getWorldPos(e.clientX, e.clientY);\r\n            if (world && this.onScroll) {\r\n                e.preventDefault();\r\n                this.onScroll(e.deltaY);\r\n            }\r\n        };\r\n\r\n        window.addEventListener(\"pointerdown\", onPointerDown);\r\n        window.addEventListener(\"pointermove\", onPointerMove, { capture: true });\r\n        window.addEventListener(\"pointerup\", onPointerUp);\r\n        window.addEventListener(\"wheel\", onWheel, { passive: false });\r\n\r\n        // Cleanup on scene shutdown\r\n        this.scene.events.once(Phaser.Scenes.Events.SHUTDOWN, () => {\r\n            window.removeEventListener(\"pointerdown\", onPointerDown);\r\n            window.removeEventListener(\"pointermove\", onPointerMove);\r\n            window.removeEventListener(\"pointerup\", onPointerUp);\r\n            window.removeEventListener(\"wheel\", onWheel);\r\n        });\r\n\r\n        this.scene.events.once(Phaser.Scenes.Events.DESTROY, () => {\r\n            window.removeEventListener(\"pointerdown\", onPointerDown);\r\n            window.removeEventListener(\"pointermove\", onPointerMove);\r\n            window.removeEventListener(\"pointerup\", onPointerUp);\r\n            window.removeEventListener(\"wheel\", onWheel);\r\n        });\r\n    }\r\n\r\n    // ===== Texture Loading (Phaser-specific helper) =====\r\n\r\n    /**\r\n     * ?띿뒪泥?濡쒕뱶 (Phaser ?꾩슜)\r\n     */\r\n    loadTexture(key: string, url: string): Promise<void> {\r\n        return new Promise((resolve, reject) => {\r\n            if (!this.scene) {\r\n                reject(new Error(\"Scene not initialized\"));\r\n                return;\r\n            }\r\n\r\n            if (this.scene.textures.exists(key)) {\r\n                resolve();\r\n                return;\r\n            }\r\n\r\n            this.scene.load.image(key, url);\r\n            this.scene.load.once(\"complete\", () => resolve());\r\n            this.scene.load.once(\"loaderror\", () => reject(new Error(`Failed to load texture: ${key}`)));\r\n            this.scene.load.start();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 罹붾쾭?ㅻ줈遺???띿뒪泥??앹꽦 (Phaser ?꾩슜)\r\n     */\r\n    addCanvasTexture(key: string, canvas: HTMLCanvasElement): void {\r\n        if (!this.scene) return;\r\n\r\n        if (this.scene.textures.exists(key)) {\r\n            this.scene.textures.remove(key);\r\n        }\r\n\r\n        this.scene.textures.addCanvas(key, canvas);\r\n    }\r\n\r\n    /**\r\n     * ???몄뒪?댁뒪 諛섑솚 (?섏쐞 ?명솚??- ?먯쭊??留덉씠洹몃젅?댁뀡)\r\n     * @deprecated 吏곸젒 ???묎렐? 沅뚯옣?섏? ?딆쓬\r\n     */\r\n    getScene(): Phaser.Scene | null {\r\n        return this.scene;\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\renderer\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\types\\Asset.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\types\\Component.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\types\\Entity.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\types\\Event.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\types\\Module.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\types\\Variable.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\editor\\utils\\assetToEntity.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\hooks\\useScrollReveal.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\main.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\pages\\AssetsPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\pages\\AuthPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\pages\\ExplorePage.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":13,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[530,533],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[530,533],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useRef } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../contexts/AuthContext';\r\n\r\nconst ExplorePage = () => {\r\n    const { user, logout } = useAuth();\r\n    const navigate = useNavigate();\r\n    const [showDropdown, setShowDropdown] = useState(false);\r\n    const dropdownRef = useRef<HTMLDivElement>(null);\r\n    const [selectedCategory, setSelectedCategory] = useState(\"?꾩껜\");\r\n\r\n    // Game Modal State\r\n    const [selectedGame, setSelectedGame] = useState<any>(null);\r\n\r\n    // Prevent scrolling when modal is open\r\n    useEffect(() => {\r\n        if (selectedGame) {\r\n            document.body.style.overflow = 'hidden';\r\n        } else {\r\n            document.body.style.overflow = 'auto';\r\n        }\r\n        return () => {\r\n            document.body.style.overflow = 'auto';\r\n        }\r\n    }, [selectedGame]);\r\n\r\n\r\n    // Close dropdown on outside click\r\n    useEffect(() => {\r\n        const handleClickOutside = (event: MouseEvent) => {\r\n            if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\r\n                setShowDropdown(false);\r\n            }\r\n        };\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => document.removeEventListener('mousedown', handleClickOutside);\r\n    }, []);\r\n\r\n    const handleLogout = () => {\r\n        logout();\r\n        navigate('/');\r\n    };\r\n\r\n    const CATEGORIES = [\r\n        { id: \"?꾩껜\", icon: \"fa-solid fa-gamepad\" },\r\n        { id: \"?멸린\", icon: \"fa-solid fa-fire\" },\r\n        { id: \"?좉퇋\", icon: \"fa-solid fa-sparkles\" },\r\n        { type: \"divider\" },\r\n        { id: \"?≪뀡\", icon: \"fa-solid fa-khanda\" },\r\n        { id: \"RPG\", icon: \"fa-solid fa-shield-halved\" },\r\n        { id: \"?꾨왂\", icon: \"fa-solid fa-chess\" },\r\n        { id: \"?꾩??대뱶\", icon: \"fa-solid fa-ghost\" },\r\n        { id: \"?쒕??덉씠??", icon: \"fa-solid fa-city\" },\r\n        { id: \"?ㅽ룷痢?", icon: \"fa-solid fa-futbol\" },\r\n        { id: \"怨듯룷\", icon: \"fa-solid fa-skull\" }\r\n    ];\r\n\r\n    const GAMES = [\r\n        // ?≪뀡 (Action)\r\n        { title: \"Neon Racer 2077\", author: \"CyberDev\", image: \"https://images.unsplash.com/photo-1550745165-9bc0b252726f?auto=format&fit=crop&q=80&w=400\", likes: 1250, players: \"5.2k\", type: \"?≪뀡\" },\r\n        { title: \"Pixel Dungeon\", author: \"RetroKing\", image: \"https://images.unsplash.com/photo-1614726365723-49cfae96ac6d?auto=format&fit=crop&q=80&w=400\", likes: 1540, players: \"3.5k\", type: \"?≪뀡\" },\r\n        { title: \"Shadow Ninja\", author: \"DarkBlade\", image: \"https://images.unsplash.com/photo-1511512578047-dfb367046420?auto=format&fit=crop&q=80&w=400\", likes: 670, players: \"800+\", type: \"?≪뀡\" },\r\n        { title: \"Cyber Slasher\", author: \"FutureSoft\", image: \"https://images.unsplash.com/photo-1542751371-adc38448a05e?auto=format&fit=crop&q=80&w=400\", likes: 920, players: \"1.2k\", type: \"?≪뀡\" },\r\n        { title: \"Gun Master\", author: \"ShooterPro\", image: \"https://images.unsplash.com/photo-1509198397868-475647b2a1e5?auto=format&fit=crop&q=80&w=400\", likes: 450, players: \"300+\", type: \"?≪뀡\" },\r\n\r\n        // RPG\r\n        { title: \"Mystic Forest RPG\", author: \"FantasyWorks\", image: \"https://images.unsplash.com/photo-1518709268805-4e9042af9f23?auto=format&fit=crop&q=80&w=400\", likes: 890, players: \"1.2k\", type: \"RPG\" },\r\n        { title: \"Dragon Slayer\", author: \"MythicGames\", image: \"https://images.unsplash.com/photo-1534423861386-85a16f5d13fd?auto=format&fit=crop&q=80&w=400\", likes: 2100, players: \"5k+\", type: \"RPG\" },\r\n        { title: \"Elden Quest\", author: \"SoulStudio\", image: \"https://images.unsplash.com/photo-1519074069444-1ba4fff66d16?auto=format&fit=crop&q=80&w=400\", likes: 3200, players: \"10k+\", type: \"RPG\" },\r\n        { title: \"Pixel Tales\", author: \"BitStory\", image: \"https://images.unsplash.com/photo-1550751827-4bd374c3f58b?auto=format&fit=crop&q=80&w=400\", likes: 540, players: \"900+\", type: \"RPG\" },\r\n        { title: \"Kingdom Hearts VR\", author: \"DisneyFan\", image: \"https://images.unsplash.com/photo-1627856013091-fdf74c725545?auto=format&fit=crop&q=80&w=400\", likes: 1800, players: \"3k+\", type: \"RPG\" },\r\n\r\n        // ?꾨왂 (Strategy)\r\n        { title: \"Space Commander\", author: \"StarLab\", image: \"https://images.unsplash.com/photo-1534237710431-e2fc698436d0?auto=format&fit=crop&q=80&w=400\", likes: 2100, players: \"10k+\", type: \"?꾨왂\" },\r\n        { title: \"Tower Defense X\", author: \"StrategyPro\", image: \"https://images.unsplash.com/photo-1612287230202-1ff1d85d1bdf?auto=format&fit=crop&q=80&w=400\", likes: 1200, players: \"4.5k\", type: \"?꾨왂\" },\r\n        { title: \"Empire Builder\", author: \"CivMasters\", image: \"https://images.unsplash.com/photo-1552820728-8b83bb6b773f?auto=format&fit=crop&q=80&w=400\", likes: 850, players: \"2k+\", type: \"?꾨왂\" },\r\n        { title: \"Chess Master 3000\", author: \"BoardKing\", image: \"https://images.unsplash.com/photo-1586165368502-1bad197a6461?auto=format&fit=crop&q=80&w=400\", likes: 300, players: \"100+\", type: \"?꾨왂\" },\r\n        { title: \"Galaxy Wars\", author: \"SpaceDev\", image: \"https://images.unsplash.com/photo-1446776811953-b23d57bd21aa?auto=format&fit=crop&q=80&w=400\", likes: 1500, players: \"6k+\", type: \"?꾨왂\" },\r\n\r\n        // ?꾩??대뱶 (Arcade)\r\n        { title: \"Block Breaker\", author: \"RetroFun\", image: \"https://images.unsplash.com/photo-1551103782-8ab07afd45c1?auto=format&fit=crop&q=80&w=400\", likes: 600, players: \"1.5k\", type: \"?꾩??대뱶\" },\r\n        { title: \"Pac-Man 3D\", author: \"NamcoFan\", image: \"https://images.unsplash.com/photo-1505356822725-08ad25f3ffe4?auto=format&fit=crop&q=80&w=400\", likes: 900, players: \"2k+\", type: \"?꾩??대뱶\" },\r\n        { title: \"Pinball Wizard\", author: \"BallMaster\", image: \"https://images.unsplash.com/photo-1585507765055-e7cb2f283d02?auto=format&fit=crop&q=80&w=400\", likes: 400, players: \"500+\", type: \"?꾩??대뱶\" },\r\n        { title: \"Tetris Ultimate\", author: \"BlockLover\", image: \"https://images.unsplash.com/photo-1605347086577-706b21474ed7?auto=format&fit=crop&q=80&w=400\", likes: 1100, players: \"3k+\", type: \"?꾩??대뱶\" },\r\n        { title: \"Space Invaders Reborn\", author: \"Shooter88\", image: \"https://images.unsplash.com/photo-1563207153-f403bf289096?auto=format&fit=crop&q=80&w=400\", likes: 750, players: \"1k+\", type: \"?꾩??대뱶\" },\r\n\r\n        // ?쒕??덉씠??(Simulation)\r\n        { title: \"City Skylines Mobile\", author: \"SimCityFan\", image: \"https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?auto=format&fit=crop&q=80&w=400\", likes: 1300, players: \"4k\", type: \"?쒕??덉씠??" },\r\n        { title: \"Farming Simulator 2025\", author: \"FarmLife\", image: \"https://images.unsplash.com/photo-1464226184884-fa280b87c399?auto=format&fit=crop&q=80&w=400\", likes: 800, players: \"2.5k\", type: \"?쒕??덉씠??" },\r\n        { title: \"Flight Sim Pro\", author: \"PilotDev\", image: \"https://images.unsplash.com/photo-1436891624295-923ea2263398?auto=format&fit=crop&q=80&w=400\", likes: 1500, players: \"3k+\", type: \"?쒕??덉씠??" },\r\n        { title: \"Chef Life\", author: \"CookingMama\", image: \"https://images.unsplash.com/photo-1556910103-1c02745a30bf?auto=format&fit=crop&q=80&w=400\", likes: 600, players: \"1k+\", type: \"?쒕??덉씠??" },\r\n        { title: \"Block Builder\", author: \"VoxelMaster\", image: \"https://images.unsplash.com/photo-1574169208507-84376194878a?auto=format&fit=crop&q=80&w=400\", likes: 4500, players: \"22k+\", type: \"?쒕??덉씠??" },\r\n\r\n        // ?ㅽ룷痢?(Sports)\r\n        { title: \"Street Soccer\", author: \"GoalKicker\", image: \"https://images.unsplash.com/photo-1579952363873-27f3bade9f55?auto=format&fit=crop&q=80&w=400\", likes: 700, players: \"1.8k\", type: \"?ㅽ룷痢?" },\r\n        { title: \"NBA Jam\", author: \"DunkMaster\", image: \"https://images.unsplash.com/photo-1546519638-68e109498ffc?auto=format&fit=crop&q=80&w=400\", likes: 1200, players: \"3k+\", type: \"?ㅽ룷痢?" },\r\n        { title: \"Golf It\", author: \"HoleInOne\", image: \"https://images.unsplash.com/photo-1535131749050-aac1f17e0c0d?auto=format&fit=crop&q=80&w=400\", likes: 400, players: \"800+\", type: \"?ㅽ룷痢?" },\r\n        { title: \"Tennis World\", author: \"AceServer\", image: \"https://images.unsplash.com/photo-1622279457486-62dcc4a431d6?auto=format&fit=crop&q=80&w=400\", likes: 550, players: \"1k+\", type: \"?ㅽ룷痢?" },\r\n        { title: \"Skate Park 3D\", author: \"SkaterBoy\", image: \"https://images.unsplash.com/photo-1520045864985-a00583299d63?auto=format&fit=crop&q=80&w=400\", likes: 900, players: \"2.2k\", type: \"?ㅽ룷痢?" },\r\n\r\n        // 怨듯룷 (Horror)\r\n        { title: \"Zombie Survival\", author: \"UndeadGames\", image: \"https://images.unsplash.com/photo-1509248961158-e54f6934749c?auto=format&fit=crop&q=80&w=400\", likes: 980, players: \"2.1k\", type: \"怨듯룷\" },\r\n        { title: \"Silent Hill PT\", author: \"HorrorFan\", image: \"https://images.unsplash.com/photo-1518780664697-55e3ad937233?auto=format&fit=crop&q=80&w=400\", likes: 1500, players: \"5k+\", type: \"怨듯룷\" },\r\n        { title: \"Dark Woods\", author: \"CreepySoft\", image: \"https://images.unsplash.com/photo-1440404653325-ab127d49abc1?auto=format&fit=crop&q=80&w=400\", likes: 600, players: \"1.2k\", type: \"怨듯룷\" },\r\n        { title: \"Ghost Hunter\", author: \"SpiritSeeker\", image: \"https://images.unsplash.com/photo-1505672675380-4d2d9529488f?auto=format&fit=crop&q=80&w=400\", likes: 450, players: \"800+\", type: \"怨듯룷\" },\r\n        { title: \"Haunted House\", author: \"ScareMaster\", image: \"https://images.unsplash.com/photo-1513205792079-a787332f1430?auto=format&fit=crop&q=80&w=400\", likes: 780, players: \"1.5k\", type: \"怨듯룷\" },\r\n    ];\r\n\r\n    const filteredGames = GAMES.filter(game => {\r\n        if (selectedCategory === \"?꾩껜\") return true;\r\n        if (selectedCategory === \"?멸린\") return game.likes >= 1000; // 湲곗?? ?꾩쓽\r\n        if (selectedCategory === \"?좉퇋\") return true; // ?섏쨷??createdAt ?덉쑝硫?援먯껜\r\n\r\n        return game.type === selectedCategory;\r\n    });\r\n\r\n    return (\r\n        <div style={{\r\n            backgroundColor: 'black',\r\n            minHeight: '100vh',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            color: 'white',\r\n            overflowX: 'hidden'\r\n        }}>\r\n            {/* Header */}\r\n            <header style={{\r\n                display: 'flex',\r\n                justifyContent: 'space-between',\r\n                alignItems: 'center',\r\n                padding: '1rem 2rem',\r\n                borderBottom: '1px solid #1a1a1a',\r\n                backgroundColor: 'rgba(10, 10, 10, 0.95)',\r\n                backdropFilter: 'blur(10px)',\r\n                position: 'sticky',\r\n                top: 0,\r\n                zIndex: 100\r\n            }}>\r\n                <div style={{ display: 'flex', alignItems: 'center', gap: '3rem' }}>\r\n                    <div\r\n                        style={{ fontSize: '1.5rem', fontWeight: 'bold', cursor: 'pointer', display: 'flex', alignItems: 'center' }}\r\n                        onClick={() => navigate('/main')}\r\n                    >\r\n                        <i className=\"fa-solid fa-cube\" style={{ marginRight: '10px', color: '#3b82f6' }}></i>\r\n                        <span className=\"gradient-text\">Uniforge</span>\r\n                        <span style={{ fontSize: '0.9rem', color: '#666', marginLeft: '10px', fontWeight: 400 }}>寃뚯엫 ?뚮젅?댁뒪</span>\r\n                    </div>\r\n\r\n                    {/* Search Bar */}\r\n                    <div style={{\r\n                        position: 'relative',\r\n                        width: '400px'\r\n                    }}>\r\n                        <i className=\"fa-solid fa-search\" style={{\r\n                            position: 'absolute',\r\n                            left: '12px',\r\n                            top: '50%',\r\n                            transform: 'translateY(-50%)',\r\n                            color: '#666'\r\n                        }}></i>\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"寃뚯엫 寃??..\"\r\n                            style={{\r\n                                width: '100%',\r\n                                backgroundColor: '#111',\r\n                                border: '1px solid #333',\r\n                                borderRadius: '8px',\r\n                                padding: '10px 10px 10px 40px',\r\n                                color: 'white',\r\n                                fontSize: '0.95rem',\r\n                                outline: 'none'\r\n                            }}\r\n                            onFocus={(e) => e.target.style.borderColor = '#2563eb'}\r\n                            onBlur={(e) => e.target.style.borderColor = '#333'}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>\r\n                    <button onClick={() => navigate('/main')} style={{\r\n                        background: 'transparent', border: 'none', color: '#888', cursor: 'pointer',\r\n                        padding: '8px 16px', borderRadius: '6px', fontSize: '0.95rem'\r\n                    }}\r\n                        onMouseEnter={e => e.currentTarget.style.color = 'white'}\r\n                        onMouseLeave={e => e.currentTarget.style.color = '#888'}\r\n                    >\r\n                        ?덉쑝濡?r\n                    </button>\r\n\r\n                    <div style={{ position: 'relative' }} ref={dropdownRef}>\r\n                        <button\r\n                            onClick={() => setShowDropdown(!showDropdown)}\r\n                            style={{\r\n                                width: '36px',\r\n                                height: '36px',\r\n                                borderRadius: '50%',\r\n                                border: '1px solid #333',\r\n                                backgroundColor: '#1a1a1a',\r\n                                cursor: 'pointer',\r\n                                padding: 0,\r\n                                overflow: 'hidden'\r\n                            }}\r\n                        >\r\n                            {user?.profileImage ? (\r\n                                <img src={user.profileImage} alt=\"Profile\" style={{ width: '100%', height: '100%', objectFit: 'cover' }} />\r\n                            ) : (\r\n                                <div style={{ width: '100%', height: '100%', display: 'flex', alignItems: 'center', justifyContent: 'center', color: '#666' }}>\r\n                                    <i className=\"fa-solid fa-user\"></i>\r\n                                </div>\r\n                            )}\r\n                        </button>\r\n\r\n                        {showDropdown && (\r\n                            <div style={{\r\n                                position: 'absolute',\r\n                                top: '45px',\r\n                                right: 0,\r\n                                backgroundColor: '#1a1a1a',\r\n                                border: '1px solid #333',\r\n                                borderRadius: '8px',\r\n                                minWidth: '200px',\r\n                                boxShadow: '0 8px 24px rgba(0,0,0,0.5)',\r\n                                zIndex: 1000,\r\n                                overflow: 'hidden'\r\n                            }}>\r\n                                <div style={{ padding: '16px', borderBottom: '1px solid #333' }}>\r\n                                    <div style={{ fontSize: '0.9rem', fontWeight: 600 }}>{user?.name || 'User'}</div>\r\n                                    <div style={{ fontSize: '0.8rem', color: '#888' }}>{user?.email || 'guest@uniforge.com'}</div>\r\n                                </div>\r\n                                <button onClick={handleLogout} style={{ width: '100%', padding: '12px 16px', background: 'transparent', border: 'none', color: '#ef4444', textAlign: 'left', cursor: 'pointer' }}>濡쒓렇?꾩썐</button>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </header>\r\n\r\n            <div style={{ display: 'flex', flex: 1, maxWidth: '1600px', width: '100%', margin: '0 auto' }}>\r\n                {/* Sidebar */}\r\n                <aside style={{\r\n                    width: '240px',\r\n                    padding: '2rem 1rem',\r\n                    borderRight: '1px solid #1a1a1a',\r\n                    position: 'sticky',\r\n                    top: '73px',\r\n                    height: 'calc(100vh - 73px)',\r\n                    overflowY: 'auto'\r\n                }}>\r\n                    <nav style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\r\n                        {CATEGORIES.map((cat, index) => (\r\n                            cat.type === 'divider' ? (\r\n                                <div key={index} style={{ height: '1px', backgroundColor: '#222', margin: '10px 0' }}></div>\r\n                            ) : (\r\n                                <button\r\n                                    key={cat.id}\r\n                                    onClick={() => setSelectedCategory(cat.id!)}\r\n                                    style={{\r\n                                        display: 'flex',\r\n                                        alignItems: 'center',\r\n                                        gap: '12px',\r\n                                        padding: '10px 16px',\r\n                                        backgroundColor: selectedCategory === cat.id ? '#1a1a1a' : 'transparent',\r\n                                        border: '1px solid',\r\n                                        borderColor: selectedCategory === cat.id ? '#333' : 'transparent',\r\n                                        borderRadius: '8px',\r\n                                        color: selectedCategory === cat.id ? 'white' : '#888',\r\n                                        fontSize: '0.95rem',\r\n                                        cursor: 'pointer',\r\n                                        textAlign: 'left',\r\n                                        transition: 'all 0.2s',\r\n                                        width: '100%'\r\n                                    }}\r\n                                    onMouseEnter={e => {\r\n                                        if (selectedCategory !== cat.id) {\r\n                                            e.currentTarget.style.backgroundColor = '#111';\r\n                                            e.currentTarget.style.color = '#ccc';\r\n                                        }\r\n                                    }}\r\n                                    onMouseLeave={e => {\r\n                                        if (selectedCategory !== cat.id) {\r\n                                            e.currentTarget.style.backgroundColor = 'transparent';\r\n                                            e.currentTarget.style.color = '#888';\r\n                                        }\r\n                                    }}\r\n                                >\r\n                                    <i className={cat.icon} style={{ width: '20px', textAlign: 'center' }}></i>\r\n                                    <span>{cat.id}</span>\r\n                                </button>\r\n                            )\r\n                        ))}\r\n                    </nav>\r\n                </aside>\r\n\r\n                {/* Main Content */}\r\n                <main style={{ flex: 1, padding: '2rem' }}>\r\n\r\n                    {/* Featured Game Header */}\r\n                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1.5rem' }}>\r\n                        <h2 style={{ fontSize: '1.5rem', fontWeight: 600 }}>{selectedCategory} 寃뚯엫</h2>\r\n                        <div style={{ display: 'flex', gap: '8px' }}>\r\n                            <button className=\"sort-btn\" style={{ padding: '6px 12px', borderRadius: '4px', background: '#111', border: '1px solid #333', color: '#888', cursor: 'pointer' }}>?멸린??/button>\r\n                            <button className=\"sort-btn\" style={{ padding: '6px 12px', borderRadius: '4px', background: 'transparent', border: '1px solid transparent', color: '#666', cursor: 'pointer' }}>理쒖떊??/button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Grid */}\r\n                    <div style={{\r\n                        display: 'grid',\r\n                        gridTemplateColumns: 'repeat(auto-fill, minmax(280px, 1fr))',\r\n                        gap: '24px'\r\n                    }}>\r\n                        {filteredGames.map((game, index) => (\r\n                            <div\r\n                                key={index}\r\n                                style={{\r\n                                    backgroundColor: '#0a0a0a',\r\n                                    borderRadius: '12px',\r\n                                    border: '1px solid #222',\r\n                                    overflow: 'hidden',\r\n                                    cursor: 'pointer',\r\n                                    transition: 'transform 0.2s, border-color 0.2s',\r\n                                    position: 'relative'\r\n                                }}\r\n                                onClick={() => setSelectedGame(game)}\r\n                                onMouseEnter={e => {\r\n                                    e.currentTarget.style.transform = 'translateY(-4px)';\r\n                                    e.currentTarget.style.borderColor = '#444';\r\n                                }}\r\n                                onMouseLeave={e => {\r\n                                    e.currentTarget.style.transform = 'translateY(0)';\r\n                                    e.currentTarget.style.borderColor = '#222';\r\n                                }}\r\n                            >\r\n                                <div style={{ height: '160px', overflow: 'hidden', position: 'relative' }}>\r\n                                    <img src={game.image} alt={game.title} style={{ width: '100%', height: '100%', objectFit: 'cover' }} />\r\n                                    <div style={{\r\n                                        position: 'absolute',\r\n                                        bottom: 0,\r\n                                        left: 0,\r\n                                        width: '100%',\r\n                                        padding: '40px 16px 16px',\r\n                                        background: 'linear-gradient(to top, rgba(0,0,0,0.8), transparent)'\r\n                                    }}>\r\n                                        <span style={{\r\n                                            backgroundColor: 'rgba(37, 99, 235, 0.8)', padding: '2px 8px', borderRadius: '4px',\r\n                                            fontSize: '0.7rem', fontWeight: 600, backdropFilter: 'blur(4px)', display: 'inline-block'\r\n                                        }}>\r\n                                            {game.type}\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                                <div style={{ padding: '16px' }}>\r\n                                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '8px' }}>\r\n                                        <h3 style={{ fontSize: '1rem', fontWeight: 600, color: 'white', margin: 0 }}>{game.title}</h3>\r\n                                    </div>\r\n                                    <p style={{ fontSize: '0.85rem', color: '#888', margin: '0 0 16px 0' }}>By {game.author}</p>\r\n\r\n                                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', fontSize: '0.8rem', color: '#666' }}>\r\n                                        <div style={{ display: 'flex', alignItems: 'center', gap: '4px' }}>\r\n                                            <i className=\"fa-solid fa-users\"></i>\r\n                                            <span>{game.players} ?뚮젅??/span>\r\n                                        </div>\r\n                                        <div style={{ display: 'flex', alignItems: 'center', gap: '4px', color: '#fbbf24' }}>\r\n                                            <i className=\"fa-solid fa-heart\"></i>\r\n                                            <span>{game.likes}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n\r\n                </main>\r\n            </div>\r\n            {/* Game Detail Modal */}\r\n            {selectedGame && (\r\n                <div style={{\r\n                    position: 'fixed',\r\n                    top: 0,\r\n                    left: 0,\r\n                    width: '100%',\r\n                    height: '100%',\r\n                    backgroundColor: 'rgba(0, 0, 0, 0.85)',\r\n                    zIndex: 1000,\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    padding: '2rem'\r\n                }} onClick={() => setSelectedGame(null)}>\r\n                    <div style={{\r\n                        backgroundColor: '#111',\r\n                        border: '1px solid #333',\r\n                        borderRadius: '16px',\r\n                        width: '100%',\r\n                        maxWidth: '1000px',\r\n                        height: '85vh',\r\n                        display: 'flex',\r\n                        flexDirection: 'column',\r\n                        position: 'relative',\r\n                        boxShadow: '0 20px 50px rgba(0,0,0,0.5)',\r\n                        overflow: 'hidden'\r\n                    }} onClick={e => e.stopPropagation()}>\r\n\r\n                        {/* Close Button */}\r\n                        <button\r\n                            onClick={() => setSelectedGame(null)}\r\n                            style={{\r\n                                position: 'absolute',\r\n                                top: '16px',\r\n                                right: '16px',\r\n                                background: 'rgba(0,0,0,0.5)',\r\n                                border: 'none',\r\n                                color: 'white',\r\n                                width: '32px',\r\n                                height: '32px',\r\n                                borderRadius: '50%',\r\n                                cursor: 'pointer',\r\n                                zIndex: 20,\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                justifyContent: 'center'\r\n                            }}\r\n                        >\r\n                            <i className=\"fa-solid fa-xmark\"></i>\r\n                        </button>\r\n\r\n                        {/* Top: Header Section (Image & Basic Info) */}\r\n                        <div style={{ height: '300px', position: 'relative' }}>\r\n                            <img\r\n                                src={selectedGame.image}\r\n                                alt={selectedGame.title}\r\n                                style={{ width: '100%', height: '100%', objectFit: 'cover', filter: 'brightness(0.7)' }}\r\n                            />\r\n                            <div style={{\r\n                                position: 'absolute',\r\n                                bottom: 0,\r\n                                left: 0,\r\n                                width: '100%',\r\n                                padding: '2rem',\r\n                                background: 'linear-gradient(to top, #111, transparent)'\r\n                            }}>\r\n                                <span style={{\r\n                                    backgroundColor: '#2563eb', color: 'white', padding: '4px 8px',\r\n                                    borderRadius: '4px', fontSize: '0.8rem', fontWeight: 600, marginBottom: '8px', display: 'inline-block'\r\n                                }}>\r\n                                    {selectedGame.type}\r\n                                </span>\r\n                                <h2 style={{ fontSize: '3rem', fontWeight: 700, margin: '8px 0 4px' }}>{selectedGame.title}</h2>\r\n                                <p style={{ color: '#ccc', fontSize: '1.1rem' }}>By {selectedGame.author} ??{selectedGame.players} ?뚮젅??/p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Scrollable Content */}\r\n                        <div style={{ flex: 1, overflowY: 'auto' }}>\r\n                            <div style={{ padding: '2rem', display: 'grid', gridTemplateColumns: '2fr 1fr', gap: '2rem' }}>\r\n\r\n                                {/* Left Column: Action & Ranking */}\r\n                                <div>\r\n                                    {/* Action Buttons */}\r\n                                    <div style={{ display: 'flex', gap: '1rem', marginBottom: '2rem' }}>\r\n                                        <button style={{\r\n                                            flex: 1, backgroundColor: '#2563eb', color: 'white', border: 'none',\r\n                                            padding: '16px', borderRadius: '8px', fontSize: '1.1rem', fontWeight: 700,\r\n                                            cursor: 'pointer', display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '8px'\r\n                                        }} onClick={() => alert('寃뚯엫 ?뚮젅???쒖옉!')}>\r\n                                            <i className=\"fa-solid fa-play\"></i> ?뚮젅??r\n                                        </button>\r\n                                        <button style={{\r\n                                            padding: '16px 24px', backgroundColor: '#333', color: 'white', border: 'none',\r\n                                            borderRadius: '8px', fontSize: '1.1rem', fontWeight: 600,\r\n                                            cursor: 'pointer', display: 'flex', alignItems: 'center', gap: '8px'\r\n                                        }} onClick={() => alert('醫뗭븘??')}>\r\n                                            <i className=\"fa-solid fa-heart\" style={{ color: '#ef4444' }}></i> {selectedGame.likes}\r\n                                        </button>\r\n                                        <button style={{\r\n                                            padding: '16px 24px', backgroundColor: 'transparent', color: '#ccc', border: '1px solid #444',\r\n                                            borderRadius: '8px', fontSize: '1.1rem', fontWeight: 600,\r\n                                            cursor: 'pointer', display: 'flex', alignItems: 'center', gap: '8px'\r\n                                        }} onClick={() => alert('?ㅼ슫濡쒕뱶 ?꾨즺!')}>\r\n                                            <i className=\"fa-solid fa-download\"></i>\r\n                                        </button>\r\n                                    </div>\r\n\r\n                                    <div style={{ marginBottom: '2rem' }}>\r\n                                        <h3 style={{ fontSize: '1.2rem', marginBottom: '1rem', borderLeft: '4px solid #2563eb', paddingLeft: '12px' }}>寃뚯엫 ?ㅻ챸</h3>\r\n                                        <p style={{ lineHeight: '1.6', color: '#ccc' }}>\r\n                                            ??寃뚯엫? ?좊땲?ъ? ?붿쭊?쇰줈 ?쒖옉??怨좏꾨━??{selectedGame.type} 寃뚯엫?낅땲??\r\n                                            紐곗엯媛??섏튂???ㅽ넗由ъ? ?붾젮??洹몃옒?쎌쓣 寃쏀뿕?대낫?몄슂.\r\n                                            ???멸퀎 ?뚮젅?댁뼱?ㅺ낵 寃쎌웳?섍퀬 ?쒖쐞瑜??щ젮蹂댁꽭??\r\n                                        </p>\r\n                                    </div>\r\n\r\n                                    {/* Ranking Section */}\r\n                                    <div>\r\n                                        <h3 style={{ fontSize: '1.2rem', marginBottom: '1rem', borderLeft: '4px solid #fbbf24', paddingLeft: '12px' }}>?ㅼ떆媛???궧</h3>\r\n                                        <div style={{ backgroundColor: '#1a1a1a', borderRadius: '8px', overflow: 'hidden' }}>\r\n                                            {[\r\n                                                { rank: 1, name: \"Faker\", score: 999999 },\r\n                                                { rank: 2, name: \"Chovy\", score: 888442 },\r\n                                                { rank: 3, name: \"ShowMaker\", score: 772100 },\r\n                                                { rank: 4, name: \"Zeus\", score: 654321 },\r\n                                                { rank: 5, name: \"Keria\", score: 543210 },\r\n                                            ].map((user, idx) => (\r\n                                                <div key={idx} style={{\r\n                                                    display: 'flex', justifyContent: 'space-between', padding: '12px 16px',\r\n                                                    borderBottom: idx !== 4 ? '1px solid #333' : 'none',\r\n                                                    backgroundColor: idx === 0 ? 'rgba(251, 191, 36, 0.1)' : 'transparent'\r\n                                                }}>\r\n                                                    <div style={{ display: 'flex', gap: '12px', alignItems: 'center' }}>\r\n                                                        <span style={{\r\n                                                            fontWeight: 700, width: '24px',\r\n                                                            color: idx === 0 ? '#fbbf24' : idx === 1 ? '#94a3b8' : idx === 2 ? '#b45309' : '#666'\r\n                                                        }}>{user.rank}</span>\r\n                                                        <span style={{ color: 'white' }}>{user.name}</span>\r\n                                                    </div>\r\n                                                    <span style={{ fontFamily: 'monospace', color: '#aaa' }}>{user.score.toLocaleString()}</span>\r\n                                                </div>\r\n                                            ))}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Right Column: Comments */}\r\n                                <div style={{ borderLeft: '1px solid #333', paddingLeft: '2rem' }}>\r\n                                    <h3 style={{ fontSize: '1.2rem', marginBottom: '1rem' }}>?볤? (128)</h3>\r\n                                    <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\r\n                                        {[\r\n                                            { user: \"User123\", text: \"?뺣쭚 ?щ??덈뒗 寃뚯엫?대꽕??\", time: \"2遺???" },\r\n                                            { user: \"GameMaster\", text: \"洹몃옒?쎌씠 ?뚮??⑸땲??\", time: \"15遺???" },\r\n                                            { user: \"Tester\", text: \"?쒖씠?꾧? 醫 ?믪븘???졼뀪\", time: \"1?쒓컙 ??" },\r\n                                            { user: \"ProGamer\", text: \"??궧 1???꾩쟾?⑸땲??\", time: \"3?쒓컙 ??" },\r\n                                            { user: \"DevFan\", text: \"?낅뜲?댄듃 湲곕떎由ш퀬 ?덉뼱??\", time: \"?섎（ ??" },\r\n                                        ].map((comment, idx) => (\r\n                                            <div key={idx} style={{ paddingBottom: '1rem', borderBottom: '1px solid #222' }}>\r\n                                                <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '4px' }}>\r\n                                                    <span style={{ fontWeight: 600, fontSize: '0.9rem' }}>{comment.user}</span>\r\n                                                    <span style={{ fontSize: '0.8rem', color: '#666' }}>{comment.time}</span>\r\n                                                </div>\r\n                                                <p style={{ fontSize: '0.9rem', color: '#ccc', margin: 0 }}>{comment.text}</p>\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                    <div style={{ marginTop: '1rem' }}>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            placeholder=\"?볤????낅젰?섏꽭??..\"\r\n                                            style={{\r\n                                                width: '100%', padding: '10px', backgroundColor: '#222', border: '1px solid #333',\r\n                                                borderRadius: '6px', color: 'white', outline: 'none'\r\n                                            }}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ExplorePage;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\pages\\LandingPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\pages\\LibraryPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\pages\\MainPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\pages\\MarketplacePage.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":15,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[703,706],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[703,706],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useRef } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../contexts/AuthContext';\r\n\r\nconst MarketplacePage = () => {\r\n    const { user, logout } = useAuth();\r\n    const navigate = useNavigate();\r\n    const [showDropdown, setShowDropdown] = useState(false);\r\n    const dropdownRef = useRef<HTMLDivElement>(null);\r\n    const [selectedGenre, setSelectedGenre] = useState<string | null>(null);\r\n    const [selectedType, setSelectedType] = useState<string | null>(null);\r\n    const [selectedCategory, setSelectedCategory] = useState(\"?꾩껜\");\r\n\r\n    // Todo: define item type properly\r\n    const [selectedItem, setSelectedItem] = useState<any>(null);\r\n    // Close dropdown on outside click\r\n    useEffect(() => {\r\n        const handleClickOutside = (event: MouseEvent) => {\r\n            if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\r\n                setShowDropdown(false);\r\n            }\r\n        };\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => document.removeEventListener('mousedown', handleClickOutside);\r\n    }, []);\r\n\r\n    // Prevent scrolling when modal is open\r\n    useEffect(() => {\r\n        if (selectedItem) {\r\n            document.body.style.overflow = 'hidden';\r\n        } else {\r\n            document.body.style.overflow = 'auto';\r\n        }\r\n        return () => {\r\n            document.body.style.overflow = 'auto';\r\n        }\r\n    }, [selectedItem]);\r\n\r\n    const handleLogout = () => {\r\n        logout();\r\n        navigate('/');\r\n    };\r\n\r\n    const CATEGORIES = [\r\n        { id: \"異붿쿇\", icon: \"fa-solid fa-fire\" },\r\n        { id: \"湲됱긽??", icon: \"fa-solid fa-chart-line\" },\r\n        { id: \"?좉퇋\", icon: \"fa-solid fa-sparkles\" },\r\n        { type: \"divider\" },\r\n        { kind: \"genre\", id: \"?≪뀡\", icon: \"fa-solid fa-khanda\" },\r\n        { kind: \"genre\", id: \"RPG\", icon: \"fa-solid fa-shield-halved\" },\r\n        { kind: \"genre\", id: \"?꾨왂\", icon: \"fa-solid fa-chess\" },\r\n        { kind: \"genre\", id: \"?쇱쫹\", icon: \"fa-solid fa-puzzle-piece\" },\r\n        { type: \"divider\" },\r\n        { kind: \"type\", id: \"3D ?먯뀑\", icon: \"fa-solid fa-cube\" },\r\n        { kind: \"type\", id: \"2D ?ㅽ봽?쇱씠??", icon: \"fa-solid fa-image\" },\r\n        { kind: \"type\", id: \"?ㅻ뵒??", icon: \"fa-solid fa-music\" },\r\n        { kind: \"type\", id: \"VFX\", icon: \"fa-solid fa-wand-magic-sparkles\" },\r\n    ];\r\n\r\n    const MARKET_ITEMS = [\r\n        // 3D ?먯뀑\r\n        { title: \"Neon City Pack\", author: \"CyberArt\", price: \"臾대즺\", image: \"https://images.unsplash.com/photo-1550745165-9bc0b252726f?auto=format&fit=crop&q=80&w=400\", rating: 4.8, type: \"3D ?먯뀑\", genre: \"?≪뀡\" },\r\n        { title: \"Low Poly Vehicles\", author: \"PolyWorks\", price: \"??2,000\", image: \"https://images.unsplash.com/photo-1555620950-c8d030999557?auto=format&fit=crop&q=80&w=400\", rating: 4.5, type: \"3D ?먯뀑\", genre: \"?덉씠??" },\r\n        { title: \"Medieval Castle Kit\", author: \"CastleBuilder\", price: \"??5,000\", image: \"https://images.unsplash.com/photo-1599596446733-ee31cb9f257f?auto=format&fit=crop&q=80&w=400\", rating: 4.7, type: \"3D ?먯뀑\", genre: \"RPG\" },\r\n        { title: \"Modern Furniture\", author: \"Interiors\", price: \"??,000\", image: \"https://images.unsplash.com/photo-1555041469-a586c61ea9bc?auto=format&fit=crop&q=80&w=400\", rating: 4.6, type: \"3D ?먯뀑\", genre: \"?쒕??덉씠??" },\r\n        { title: \"Sci-Fi Weapons\", author: \"GunSmith\", price: \"??5,000\", image: \"https://images.unsplash.com/photo-1624638760924-44ed5b07223e?auto=format&fit=crop&q=80&w=400\", rating: 4.9, type: \"3D ?먯뀑\", genre: \"?≪뀡\" },\r\n\r\n        // 2D ?ㅽ봽?쇱씠??r\n        { title: \"Fantasy Knight\", author: \"PixelForge\", price: \"??5,000\", image: \"https://images.unsplash.com/photo-1542751371-adc38448a05e?auto=format&fit=crop&q=80&w=400\", rating: 4.9, type: \"2D ?ㅽ봽?쇱씠??", genre: \"RPG\" },\r\n        { title: \"Dungeon Tileset\", author: \"TileMaster\", price: \"臾대즺\", image: \"https://images.unsplash.com/photo-1518709268805-4e9042af9f23?auto=format&fit=crop&q=80&w=400\", rating: 4.4, type: \"2D ?ㅽ봽?쇱씠??", genre: \"RPG\" },\r\n        { title: \"Retro Platformer\", author: \"RetroGamer\", price: \"??0,000\", image: \"https://images.unsplash.com/photo-1550745165-9bc0b252726f?auto=format&fit=crop&q=80&w=400\", rating: 4.7, type: \"2D ?ㅽ봽?쇱씠??", genre: \"?≪뀡\" },\r\n        { title: \"RPG Icons Pack\", author: \"IconFactory\", price: \"??,000\", image: \"https://images.unsplash.com/photo-1611162617474-5b21e879e113?auto=format&fit=crop&q=80&w=400\", rating: 4.8, type: \"2D ?ㅽ봽?쇱씠??", genre: \"RPG\" },\r\n        { title: \"Pixel Monsters\", author: \"MonsterMaker\", price: \"??,000\", image: \"https://images.unsplash.com/photo-1599643478518-17488fbbcd75?auto=format&fit=crop&q=80&w=400\", rating: 4.6, type: \"2D ?ㅽ봽?쇱씠??", genre: \"RPG\" },\r\n\r\n        // ?ㅻ뵒??r\n        { title: \"Forest Ambience\", author: \"SoundScape\", price: \"??0,000\", image: \"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?auto=format&fit=crop&q=80&w=400\", rating: 4.9, type: \"?ㅻ뵒??", genre: \"?쒕??덉씠??" },\r\n        { title: \"Epic Orchestral\", author: \"ComposerX\", price: \"??0,000\", image: \"https://images.unsplash.com/photo-1507838153414-b4b713384ebd?auto=format&fit=crop&q=80&w=400\", rating: 5.0, type: \"?ㅻ뵒??", genre: \"RPG\" },\r\n        { title: \"SFX Bundle\", author: \"AudioLab\", price: \"??0,000\", image: \"https://images.unsplash.com/photo-1511379938547-c1f69419868d?auto=format&fit=crop&q=80&w=400\", rating: 4.7, type: \"?ㅻ뵒??", genre: \"?≪뀡\" },\r\n        { title: \"Horror Sounds\", author: \"ScaryAudio\", price: \"??2,000\", image: \"https://images.unsplash.com/photo-1514320291840-2e0a962daecb?auto=format&fit=crop&q=80&w=400\", rating: 4.8, type: \"?ㅻ뵒??", genre: \"怨듯룷\" },\r\n        { title: \"Casual Loops\", author: \"HappyTunes\", price: \"臾대즺\", image: \"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?auto=format&fit=crop&q=80&w=400\", rating: 4.5, type: \"?ㅻ뵒??", genre: \"?쇱쫹\" },\r\n\r\n        // VFX\r\n        { title: \"Magic Spells FX\", author: \"VFXWizard\", price: \"??8,000\", image: \"https://images.unsplash.com/photo-1504910793664-9051fb278a9c?auto=format&fit=crop&q=80&w=400\", rating: 4.8, type: \"VFX\", genre: \"RPG\" },\r\n        { title: \"Explosion Pack\", author: \"BoomMaster\", price: \"??5,000\", image: \"https://images.unsplash.com/photo-1496337589254-7e19d01cec44?auto=format&fit=crop&q=80&w=400\", rating: 4.7, type: \"VFX\", genre: \"?≪뀡\" },\r\n        { title: \"Weather System\", author: \"NatureFX\", price: \"??2,000\", image: \"https://images.unsplash.com/photo-1515690241747-493238f4674a?auto=format&fit=crop&q=80&w=400\", rating: 4.9, type: \"VFX\", genre: \"?쒕??덉씠??" },\r\n        { title: \"Sci-Fi Particles\", author: \"FutureFS\", price: \"??4,000\", image: \"https://images.unsplash.com/photo-1481697943534-ea60b58e6532?auto=format&fit=crop&q=80&w=400\", rating: 4.6, type: \"VFX\", genre: \"?꾨왂\" },\r\n        { title: \"Water Shaders\", author: \"LiquidArt\", price: \"??0,000\", image: \"https://images.unsplash.com/photo-1505228395891-9a51e7e86bf6?auto=format&fit=crop&q=80&w=400\", rating: 4.8, type: \"VFX\", genre: \"?쇱쫹\" },\r\n\r\n        // UI & Template\r\n        { title: \"Space Shooter Template\", author: \"GameDevPro\", price: \"??9,900\", image: \"https://images.unsplash.com/photo-1614726365723-49cfae96ac6d?auto=format&fit=crop&q=80&w=400\", rating: 4.7, type: \"?쒗뵆由?" },\r\n        { title: \"Ultimate RPG UI\", author: \"InterfaceMaster\", price: \"??5,000\", image: \"https://images.unsplash.com/photo-1611162617474-5b21e879e113?auto=format&fit=crop&q=80&w=400\", rating: 4.6, type: \"UI\" },\r\n    ];\r\n    const filteredItems = MARKET_ITEMS.filter(item => {\r\n        // 1截뤴깵 ?뱀닔 移댄뀒怨좊━\r\n        if (selectedCategory === \"異붿쿇\") return true;\r\n        if (selectedCategory === \"?꾩껜\") {\r\n            // genre/type ?꾪꽣??怨꾩냽 ?곸슜\r\n        }\r\n        if (selectedCategory === \"湲됱긽??") {\r\n            if (item.rating < 4.7) return false;\r\n        }\r\n        if (selectedCategory === \"?좉퇋\") {\r\n            return true; // ?섏쨷??createdAt?쇰줈 援먯껜\r\n        }\r\n\r\n        // 2截뤴깵 ?λⅤ\r\n        if (selectedGenre && item.genre !== selectedGenre) return false;\r\n\r\n        // 3截뤴깵 ???r\n        if (selectedType && item.type !== selectedType) return false;\r\n\r\n        return true;\r\n    });\r\n\r\n    return (\r\n        <div style={{\r\n            backgroundColor: 'black',\r\n            minHeight: '100vh',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            color: 'white',\r\n            overflowX: 'hidden'\r\n        }}>\r\n            {/* Header */}\r\n            <header style={{\r\n                display: 'flex',\r\n                justifyContent: 'space-between',\r\n                alignItems: 'center',\r\n                padding: '1rem 2rem',\r\n                borderBottom: '1px solid #1a1a1a',\r\n                backgroundColor: 'rgba(10, 10, 10, 0.95)',\r\n                backdropFilter: 'blur(10px)',\r\n                position: 'sticky',\r\n                top: 0,\r\n                zIndex: 100\r\n            }}>\r\n                <div style={{ display: 'flex', alignItems: 'center', gap: '3rem' }}>\r\n                    <div\r\n                        style={{ fontSize: '1.5rem', fontWeight: 'bold', cursor: 'pointer', display: 'flex', alignItems: 'center' }}\r\n                        onClick={() => navigate('/main')}\r\n                    >\r\n                        <i className=\"fa-solid fa-cube\" style={{ marginRight: '10px', color: '#3b82f6' }}></i>\r\n                        <span className=\"gradient-text\">Uniforge</span>\r\n                        <span style={{ fontSize: '0.9rem', color: '#666', marginLeft: '10px', fontWeight: 400 }}>?먯뀑 ?뚮젅?댁뒪</span>\r\n                    </div>\r\n\r\n                    {/* Search Bar */}\r\n                    <div style={{\r\n                        position: 'relative',\r\n                        width: '400px'\r\n                    }}>\r\n                        <i className=\"fa-solid fa-search\" style={{\r\n                            position: 'absolute',\r\n                            left: '12px',\r\n                            top: '50%',\r\n                            transform: 'translateY(-50%)',\r\n                            color: '#666'\r\n                        }}></i>\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"?먯뀑, 寃뚯엫, ?щ━?먯씠??寃??..\"\r\n                            style={{\r\n                                width: '100%',\r\n                                backgroundColor: '#111',\r\n                                border: '1px solid #333',\r\n                                borderRadius: '8px',\r\n                                padding: '10px 10px 10px 40px',\r\n                                color: 'white',\r\n                                fontSize: '0.95rem',\r\n                                outline: 'none'\r\n                            }}\r\n                            onFocus={(e) => e.target.style.borderColor = '#2563eb'}\r\n                            onBlur={(e) => e.target.style.borderColor = '#333'}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>\r\n                    <button onClick={() => navigate('/library')} style={{\r\n                        background: 'transparent', border: 'none', color: '#888', cursor: 'pointer',\r\n                        padding: '8px 16px', borderRadius: '6px', fontSize: '0.95rem'\r\n                    }}\r\n                        onMouseEnter={e => e.currentTarget.style.color = 'white'}\r\n                        onMouseLeave={e => e.currentTarget.style.color = '#888'}\r\n                    >\r\n                        ???쇱씠釉뚮윭由?r\n                    </button>\r\n\r\n                    <div style={{ position: 'relative' }} ref={dropdownRef}>\r\n                        <button\r\n                            onClick={() => setShowDropdown(!showDropdown)}\r\n                            style={{\r\n                                width: '36px',\r\n                                height: '36px',\r\n                                borderRadius: '50%',\r\n                                border: '1px solid #333',\r\n                                backgroundColor: '#1a1a1a',\r\n                                cursor: 'pointer',\r\n                                padding: 0,\r\n                                overflow: 'hidden'\r\n                            }}\r\n                        >\r\n                            {user?.profileImage ? (\r\n                                <img src={user.profileImage} alt=\"Profile\" style={{ width: '100%', height: '100%', objectFit: 'cover' }} />\r\n                            ) : (\r\n                                <div style={{ width: '100%', height: '100%', display: 'flex', alignItems: 'center', justifyContent: 'center', color: '#666' }}>\r\n                                    <i className=\"fa-solid fa-user\"></i>\r\n                                </div>\r\n                            )}\r\n                        </button>\r\n\r\n                        {showDropdown && (\r\n                            <div style={{\r\n                                position: 'absolute',\r\n                                top: '45px',\r\n                                right: 0,\r\n                                backgroundColor: '#1a1a1a',\r\n                                border: '1px solid #333',\r\n                                borderRadius: '8px',\r\n                                minWidth: '200px',\r\n                                boxShadow: '0 8px 24px rgba(0,0,0,0.5)',\r\n                                zIndex: 1000,\r\n                                overflow: 'hidden'\r\n                            }}>\r\n                                <div style={{ padding: '16px', borderBottom: '1px solid #333' }}>\r\n                                    <div style={{ fontSize: '0.9rem', fontWeight: 600 }}>{user?.name || 'User'}</div>\r\n                                    <div style={{ fontSize: '0.8rem', color: '#888' }}>{user?.email || 'guest@uniforge.com'}</div>\r\n                                </div>\r\n                                <button onClick={handleLogout} style={{ width: '100%', padding: '12px 16px', background: 'transparent', border: 'none', color: '#ef4444', textAlign: 'left', cursor: 'pointer' }}>濡쒓렇?꾩썐</button>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </header>\r\n\r\n            <div style={{ display: 'flex', flex: 1, maxWidth: '1600px', width: '100%', margin: '0 auto' }}>\r\n                {/* Sidebar */}\r\n                <aside style={{\r\n                    width: '240px',\r\n                    padding: '2rem 1rem',\r\n                    borderRight: '1px solid #1a1a1a',\r\n                    position: 'sticky',\r\n                    top: '73px',\r\n                    height: 'calc(100vh - 73px)',\r\n                    overflowY: 'auto'\r\n                }}>\r\n                    <nav style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\r\n                        {CATEGORIES.map((cat, index) => {\r\n                            if (cat.type === 'divider') {\r\n                                return (\r\n                                    <div\r\n                                        key={index}\r\n                                        style={{ height: '1px', backgroundColor: '#222', margin: '10px 0' }}\r\n                                    />\r\n                                );\r\n                            }\r\n\r\n                            // ???ш린!!! (cat???????덈뒗 踰붿쐞)\r\n                            const isActive =\r\n                                (!cat.kind && selectedCategory === cat.id) ||\r\n                                (cat.kind === \"genre\" && selectedGenre === cat.id) ||\r\n                                (cat.kind === \"type\" && selectedType === cat.id);\r\n\r\n                            return (\r\n                                <button\r\n                                    key={cat.id}\r\n                                    onClick={() => {\r\n                                        if (cat.kind === \"genre\") {\r\n                                            setSelectedGenre(cat.id!);\r\n                                            setSelectedCategory(\"?꾩껜\");\r\n                                        } else if (cat.kind === \"type\") {\r\n                                            setSelectedType(cat.id!);\r\n                                            setSelectedCategory(\"?꾩껜\");\r\n                                        } else {\r\n                                            setSelectedCategory(cat.id!);\r\n                                            setSelectedGenre(null);\r\n                                            setSelectedType(null);\r\n                                        }\r\n                                    }}\r\n                                    style={{\r\n                                        display: 'flex',\r\n                                        alignItems: 'center',\r\n                                        gap: '12px',\r\n                                        padding: '10px 16px',\r\n                                        backgroundColor: isActive ? '#1a1a1a' : 'transparent',\r\n                                        border: '1px solid',\r\n                                        borderColor: isActive ? '#333' : 'transparent',\r\n                                        borderRadius: '8px',\r\n                                        color: isActive ? 'white' : '#888',\r\n                                        fontSize: '0.95rem',\r\n                                        cursor: 'pointer',\r\n                                        textAlign: 'left',\r\n                                        transition: 'all 0.2s',\r\n                                        width: '100%'\r\n                                    }}\r\n                                    onMouseEnter={e => {\r\n                                        if (!isActive) {\r\n                                            e.currentTarget.style.backgroundColor = '#111';\r\n                                            e.currentTarget.style.color = '#ccc';\r\n                                        }\r\n                                    }}\r\n                                    onMouseLeave={e => {\r\n                                        if (!isActive) {\r\n                                            e.currentTarget.style.backgroundColor = 'transparent';\r\n                                            e.currentTarget.style.color = '#888';\r\n                                        }\r\n                                    }}\r\n                                >\r\n                                    <i className={cat.icon} style={{ width: '20px', textAlign: 'center' }} />\r\n                                    <span>{cat.id}</span>\r\n                                </button>\r\n                            );\r\n                        })}\r\n                    </nav>\r\n                </aside>\r\n\r\n                {/* Main Content */}\r\n                <main style={{ flex: 1, padding: '2rem' }}>\r\n\r\n                    {/* Hero Banner */}\r\n                    <div style={{\r\n                        width: '100%',\r\n                        height: '300px',\r\n                        borderRadius: '16px',\r\n                        position: 'relative',\r\n                        overflow: 'hidden',\r\n                        marginBottom: '3rem',\r\n                        border: '1px solid #333'\r\n                    }}>\r\n                        <img\r\n                            src=\"https://images.unsplash.com/photo-1511512578047-dfb367046420?auto=format&fit=crop&q=80&w=2000\"\r\n                            alt=\"Featured\"\r\n                            style={{ width: '100%', height: '100%', objectFit: 'cover', filter: 'brightness(0.6)' }}\r\n                        />\r\n                        <div style={{\r\n                            position: 'absolute',\r\n                            bottom: 0,\r\n                            left: 0,\r\n                            padding: '3rem',\r\n                            background: 'linear-gradient(to top, rgba(0,0,0,0.9), transparent)',\r\n                            width: '100%'\r\n                        }}>\r\n                            <span style={{\r\n                                backgroundColor: '#2563eb', color: 'white', padding: '4px 12px',\r\n                                borderRadius: '4px', fontSize: '0.8rem', fontWeight: 600, marginBottom: '1rem',\r\n                                display: 'inline-block'\r\n                            }}>異붿쿇</span>\r\n                            <h2 style={{ fontSize: '2.5rem', marginBottom: '0.5rem', fontWeight: 700 }}>Cyberpunk Streets Vol.2</h2>\r\n                            <p style={{ color: '#ccc', maxWidth: '600px', marginBottom: '1.5rem' }}>\r\n                                200媛??댁긽??怨좏꾨━???먯뀑?쇰줈 紐곗엯媛??섏튂???붿뒪?좏뵾???꾩떆瑜?留뚮뱾?대낫?몄슂. 紐⑤뱢??嫄대Ъ, ?ㅼ삩 ?ъ씤, ?ㅼ뼇???뚰뭹???ы븿?섏뼱 ?덉뒿?덈떎.\r\n                            </p>\r\n                            <div style={{ display: 'flex', gap: '1rem' }}>\r\n                                <button style={{\r\n                                    backgroundColor: 'white', color: 'black', border: 'none',\r\n                                    padding: '12px 24px', borderRadius: '6px', fontWeight: 600,\r\n                                    cursor: 'pointer', display: 'flex', alignItems: 'center', gap: '8px'\r\n                                }}>\r\n                                    ?곸꽭 蹂닿린\r\n                                </button>\r\n                                <button style={{\r\n                                    backgroundColor: 'rgba(255,255,255,0.1)', color: 'white', border: '1px solid rgba(255,255,255,0.2)',\r\n                                    padding: '12px 24px', borderRadius: '6px', fontWeight: 600,\r\n                                    backdropFilter: 'blur(5px)', cursor: 'pointer'\r\n                                }}>\r\n                                    + 李쒗븯湲?r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Section Header */}\r\n                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1.5rem' }}>\r\n                        <h2 style={{ fontSize: '1.5rem', fontWeight: 600 }}>{selectedCategory} ?꾩씠??/h2>\r\n                        <div style={{ display: 'flex', gap: '8px' }}>\r\n                            <button className=\"sort-btn\" style={{ padding: '6px 12px', borderRadius: '4px', background: '#111', border: '1px solid #333', color: '#888', cursor: 'pointer' }}>?멸린??/button>\r\n                            <button className=\"sort-btn\" style={{ padding: '6px 12px', borderRadius: '4px', background: 'transparent', border: '1px solid transparent', color: '#666', cursor: 'pointer' }}>理쒖떊??/button>\r\n                            <button className=\"sort-btn\" style={{ padding: '6px 12px', borderRadius: '4px', background: 'transparent', border: '1px solid transparent', color: '#666', cursor: 'pointer' }}>媛寃⑹닚</button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Grid */}\r\n                    <div style={{\r\n                        display: 'grid',\r\n                        gridTemplateColumns: 'repeat(auto-fill, minmax(280px, 1fr))',\r\n                        gap: '24px'\r\n                    }}>\r\n                        {filteredItems.map((item, index) => (\r\n                            <div\r\n                                key={index}\r\n                                style={{\r\n                                    backgroundColor: '#0a0a0a',\r\n                                    borderRadius: '12px',\r\n                                    border: '1px solid #222',\r\n                                    overflow: 'hidden',\r\n                                    cursor: 'pointer',\r\n                                    transition: 'transform 0.2s, border-color 0.2s',\r\n                                    position: 'relative'\r\n                                }}\r\n                                onClick={() => setSelectedItem(item)}\r\n                                onMouseEnter={e => {\r\n                                    e.currentTarget.style.transform = 'translateY(-4px)';\r\n                                    e.currentTarget.style.borderColor = '#444';\r\n                                }}\r\n                                onMouseLeave={e => {\r\n                                    e.currentTarget.style.transform = 'translateY(0)';\r\n                                    e.currentTarget.style.borderColor = '#222';\r\n                                }}\r\n                            >\r\n                                <div style={{ height: '160px', overflow: 'hidden', position: 'relative' }}>\r\n                                    <img src={item.image} alt={item.title} style={{ width: '100%', height: '100%', objectFit: 'cover' }} />\r\n                                    <span style={{\r\n                                        position: 'absolute', top: '10px', right: '10px',\r\n                                        backgroundColor: 'rgba(0,0,0,0.7)', padding: '4px 8px', borderRadius: '4px',\r\n                                        fontSize: '0.75rem', fontWeight: 600, backdropFilter: 'blur(4px)'\r\n                                    }}>\r\n                                        {item.type}\r\n                                    </span>\r\n                                </div>\r\n                                <div style={{ padding: '16px' }}>\r\n                                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '8px' }}>\r\n                                        <h3 style={{ fontSize: '1rem', fontWeight: 600, color: 'white', margin: 0 }}>{item.title}</h3>\r\n                                    </div>\r\n                                    <p style={{ fontSize: '0.85rem', color: '#888', margin: '0 0 16px 0' }}>by {item.author}</p>\r\n\r\n                                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                                        <div style={{ display: 'flex', alignItems: 'center', gap: '4px', fontSize: '0.8rem', color: '#fbbf24' }}>\r\n                                            <i className=\"fa-solid fa-star\"></i>\r\n                                            <span>{item.rating}</span>\r\n                                        </div>\r\n                                        <div style={{ fontWeight: 600, color: item.price === 'Free' ? '#22c55e' : 'white' }}>\r\n                                            {item.price}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        ))}\r\n                    </div>\r\n\r\n                </main>\r\n            </div >\r\n\r\n            {/* Asset Detail Modal */}\r\n            {\r\n                selectedItem && (\r\n                    <div style={{\r\n                        position: 'fixed',\r\n                        top: 0,\r\n                        left: 0,\r\n                        width: '100%',\r\n                        height: '100%',\r\n                        backgroundColor: 'rgba(0, 0, 0, 0.8)',\r\n                        zIndex: 1000,\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center',\r\n                        padding: '2rem'\r\n                    }} onClick={() => setSelectedItem(null)}>\r\n                        <div style={{\r\n                            backgroundColor: '#111',\r\n                            border: '1px solid #333',\r\n                            borderRadius: '16px',\r\n                            width: '100%',\r\n                            maxWidth: '900px',\r\n                            maxHeight: '90vh',\r\n                            overflowY: 'auto',\r\n                            display: 'flex',\r\n                            position: 'relative',\r\n                            boxShadow: '0 20px 50px rgba(0,0,0,0.5)'\r\n                        }} onClick={e => e.stopPropagation()}>\r\n\r\n                            {/* Close Button */}\r\n                            <button\r\n                                onClick={() => setSelectedItem(null)}\r\n                                style={{\r\n                                    position: 'absolute',\r\n                                    top: '16px',\r\n                                    right: '16px',\r\n                                    background: 'transparent',\r\n                                    border: 'none',\r\n                                    color: '#666',\r\n                                    fontSize: '1.5rem',\r\n                                    cursor: 'pointer',\r\n                                    zIndex: 10\r\n                                }}\r\n                            >\r\n                                <i className=\"fa-solid fa-xmark\"></i>\r\n                            </button>\r\n\r\n                            {/* Left: Image */}\r\n                            <div style={{ width: '50%', backgroundColor: '#000', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n                                <img\r\n                                    src={selectedItem.image}\r\n                                    alt={selectedItem.title}\r\n                                    style={{ width: '100%', height: '100%', objectFit: 'cover' }}\r\n                                />\r\n                            </div>\r\n\r\n                            {/* Right: Info */}\r\n                            <div style={{ width: '50%', padding: '2rem', display: 'flex', flexDirection: 'column' }}>\r\n                                <div style={{ marginBottom: 'auto' }}>\r\n                                    <div style={{ display: 'flex', alignItems: 'center', gap: '8px', marginBottom: '8px' }}>\r\n                                        <span style={{\r\n                                            backgroundColor: '#2563eb', color: 'white', padding: '4px 8px',\r\n                                            borderRadius: '4px', fontSize: '0.75rem', fontWeight: 600\r\n                                        }}>\r\n                                            {selectedItem.type}\r\n                                        </span>\r\n                                        <span style={{ color: '#666', fontSize: '0.9rem' }}>{selectedItem.genre}</span>\r\n                                    </div>\r\n\r\n                                    <h2 style={{ fontSize: '2rem', fontWeight: 700, marginBottom: '0.5rem' }}>{selectedItem.title}</h2>\r\n                                    <p style={{ color: '#888', marginBottom: '1.5rem' }}>by {selectedItem.author}</p>\r\n\r\n                                    <div style={{ display: 'flex', alignItems: 'center', gap: '4px', color: '#fbbf24', marginBottom: '1.5rem' }}>\r\n                                        <i className=\"fa-solid fa-star\"></i>\r\n                                        <span style={{ fontWeight: 600 }}>{selectedItem.rating}</span>\r\n                                        <span style={{ color: '#666' }}>(128 reviews)</span>\r\n                                    </div>\r\n\r\n                                    <p style={{ color: '#ccc', lineHeight: '1.6', marginBottom: '2rem' }}>\r\n                                        ???먯뀑? ?좊땲?ъ? 留덉폆?뚮젅?댁뒪?먯꽌 ?꾩꽑??怨좏뭹吏??먯뀑?낅땲??\r\n                                        ?꾨줈?앺듃??諛붾줈 ?곸슜?섏뿬 ?쒓컙???덉빟?섍퀬 ?꾨━?곕? ?믪뿬蹂댁꽭??\r\n                                        ?ы븿???뚯씪: FBX, OBJ, PNG ?띿뒪泥???\r\n                                    </p>\r\n                                </div>\r\n\r\n                                <div style={{ borderTop: '1px solid #222', paddingTop: '1.5rem' }}>\r\n                                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\r\n                                        <span style={{ color: '#888' }}>媛寃?/span>\r\n                                        <span style={{ fontSize: '1.5rem', fontWeight: 700, color: selectedItem.price === '臾대즺' ? '#22c55e' : 'white' }}>\r\n                                            {selectedItem.price}\r\n                                        </span>\r\n                                    </div>\r\n\r\n                                    <button\r\n                                        onClick={() => {\r\n                                            alert(`${selectedItem.title}??媛) ?쇱씠釉뚮윭由ъ뿉 ?ㅼ슫濡쒕뱶?섏뿀?듬땲??`);\r\n                                        }}\r\n                                        style={{\r\n                                            width: '100%',\r\n                                            backgroundColor: '#2563eb',\r\n                                            color: 'white',\r\n                                            border: 'none',\r\n                                            padding: '16px',\r\n                                            borderRadius: '8px',\r\n                                            fontSize: '1rem',\r\n                                            fontWeight: 600,\r\n                                            cursor: 'pointer',\r\n                                            display: 'flex',\r\n                                            alignItems: 'center',\r\n                                            justifyContent: 'center',\r\n                                            gap: '8px',\r\n                                            transition: 'background-color 0.2s'\r\n                                        }}\r\n                                        onMouseEnter={e => e.currentTarget.style.backgroundColor = '#1d4ed8'}\r\n                                        onMouseLeave={e => e.currentTarget.style.backgroundColor = '#2563eb'}\r\n                                    >\r\n                                        <i className=\"fa-solid fa-download\"></i>\r\n                                        ?쇱씠釉뚮윭由ъ뿉 ?닿린\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            }\r\n        </div >\r\n    );\r\n};\r\n\r\nexport default MarketplacePage;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\pages\\OAuthCallback.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\services\\authService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\src\\types\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\user\\UniForgeFrontend\\vite.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
